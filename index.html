<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-test-my-site" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/test-my-site/" class="article-date">
  <time datetime="2019-10-18T06:18:40.000Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/test-my-site/">test_my_site</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/test-my-site/" data-id="ck1vqss09000154thbynzh6gv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/hello-world/" class="article-date">
  <time datetime="2019-10-18T06:05:16.690Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/hello-world/" data-id="ck1vqsrzz000054th7er40dqh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JQUERY的基本使用方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/JQUERY%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" class="article-date">
  <time datetime="2019-10-18T03:14:42.553Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/JQUERY%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/">JQUERY的基本使用方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JQUERY,JAVASCRIPT,WEB," />










<meta name="keywords" content="JQUERY,JAVASCRIPT,WEB">
<meta property="og:type" content="article">
<meta property="og:title" content="JQUERY的基本使用方法">
<meta property="og:url" content="http://yoursite.com/2018/09/19/JQUERY的基本使用方法/index.html">
<meta property="og:site_name" content="Caiiiiii&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fvevu7c9e6j20dw08iaa4.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fvfa9q0haaj20mv0lhq4k.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fvfa9zt6tij20mu0jmjt7.jpg">
<meta property="og:updated_time" content="2018-09-19T11:00:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JQUERY的基本使用方法">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fvevu7c9e6j20dw08iaa4.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"Left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/09/19/JQUERY的基本使用方法/"/>





  <title>JQUERY的基本使用方法 | Caiiiiii's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-Left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Caiiiiii's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">来局昆特牌吗？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/19/JQUERY的基本使用方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Caiiiiii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/bz.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Caiiiiii's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JQUERY的基本使用方法</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-19T23:53:27+08:00">
                2018-09-19
              </time>
              </span>
              
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/前端篇/" itemprop="url" rel="index">
                    <span itemprop="name">前端篇</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fvevu7c9e6j20dw08iaa4.jpg" alt=""></p>
<a id="more"></a>
<p>#准备工作</p>
<ul>
<li>在官网下载JQUERY库</li>
<li>将库在你需要的网页上引用<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script src=&quot;jquery.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>#Jquery的基本语法</p>
<ul>
<li><p>所有Jquery代码都需在如下代码里运行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(function()&#123;</span><br><span class="line">--- jQuery functions go here ----</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>大致语法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">基础语法是：$(selector).action()</span><br><span class="line"></span><br><span class="line">美元符号定义 jQuery</span><br><span class="line">选择符（selector）“查询”和“查找” HTML 元素</span><br><span class="line">jQuery 的 action() 执行对元素的操作</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>示例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(this).hide() - 隐藏当前元素</span><br><span class="line">$(&quot;p&quot;).hide() - 隐藏所有段落</span><br><span class="line">$(&quot;.test&quot;).hide() - 隐藏所有 class=&quot;test&quot; 的所有元素</span><br><span class="line">$(&quot;#test&quot;).hide() - 隐藏所有 id=&quot;test&quot; 的元素</span><br></pre></td></tr></table></figure></p>
<p>#Jquery 选择器</p>
<ul>
<li><p>元素选择器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;) 选取 &lt;p&gt; 元素。</span><br><span class="line">$(&quot;p.intro&quot;) 选取所有 class=&quot;intro&quot; 的 &lt;p&gt; 元素。</span><br><span class="line">$(&quot;p#demo&quot;) 选取所有 id=&quot;demo&quot; 的 &lt;p&gt; 元素。</span><br></pre></td></tr></table></figure>
</li>
<li><p>属性选择器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;[href]&quot;) 选取所有带有 href 属性的元素。</span><br><span class="line">$(&quot;[href=&apos;#&apos;]&quot;) 选取所有带有 href 值等于 &quot;#&quot; 的元素。</span><br><span class="line">$(&quot;[href!=&apos;#&apos;]&quot;) 选取所有带有 href 值不等于 &quot;#&quot; 的元素。</span><br><span class="line">$(&quot;[href$=&apos;.jpg&apos;]&quot;) 选取所有 href 值以 &quot;.jpg&quot; 结尾的元素。</span><br></pre></td></tr></table></figure>
</li>
<li><p>CSS 选择器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;p&quot;).css(&quot;background-color&quot;,&quot;red&quot;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>jQuery 选择器<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fvfa9q0haaj20mv0lhq4k.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fvfa9zt6tij20mu0jmjt7.jpg" alt=""></p>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JQUERY/" rel="tag"># JQUERY</a>
          
            <a href="/tags/JAVASCRIPT/" rel="tag"># JAVASCRIPT</a>
          
            <a href="/tags/WEB/" rel="tag"># WEB</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/09/15/HEXO和GITHUB搭建个人博客/" rel="next" title="HEXO和GITHUB搭建个人博客">
                <i class="fa fa-chevron-left"></i> HEXO和GITHUB搭建个人博客
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/11/29/Java常见面试题/" rel="prev" title="Java常见面试题">
                Java常见面试题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/bz.gif"
                alt="Caiiiiii" />
            
              <p class="site-author-name" itemprop="name">Caiiiiii</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Caiiiiii" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:995017591@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/cai-yuan-qin/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://steamcommunity.com/id/995017591" target="_blank" title="Steam">
                      
                        <i class="fa fa-fw fa-globe"></i>Steam</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Caiiiiii</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/JQUERY%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/" data-id="ck1vqx1zq00012oth66dyg5ji" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-用HEXO和MARKDOWN格式书写博客" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/%E7%94%A8HEXO%E5%92%8CMARKDOWN%E6%A0%BC%E5%BC%8F%E4%B9%A6%E5%86%99%E5%8D%9A%E5%AE%A2/" class="article-date">
  <time datetime="2019-10-18T03:14:42.536Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/%E7%94%A8HEXO%E5%92%8CMARKDOWN%E6%A0%BC%E5%BC%8F%E4%B9%A6%E5%86%99%E5%8D%9A%E5%AE%A2/">用HEXO和MARKDOWN格式书写博客</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="HEXO,BLOG,MARKDOWN," />










<meta name="description" content="1.标题，分类以及标签的格式以本文的标题作例子：上下必须有 —12345--- title: 用HEXO和MARKDOWN格式书写博客 categories: 配置篇 tags: [MARKDOWN,HEXO,BLOG] ---  title(标题) &amp;emsp;&amp;emsp;  随意编写即可  categries(分类) &amp;emsp;&amp;emsp;  根据个人的分类进行编写  tags(标签)">
<meta name="keywords" content="HEXO,BLOG,MARKDOWN">
<meta property="og:type" content="article">
<meta property="og:title" content="用HEXO和MARKDOWN格式书写博客">
<meta property="og:url" content="http://yoursite.com/2018/09/13/用HEXO和MARKDOWN格式书写博客/index.html">
<meta property="og:site_name" content="Caiiiiii&#39;s blog">
<meta property="og:description" content="1.标题，分类以及标签的格式以本文的标题作例子：上下必须有 —12345--- title: 用HEXO和MARKDOWN格式书写博客 categories: 配置篇 tags: [MARKDOWN,HEXO,BLOG] ---  title(标题) &amp;emsp;&amp;emsp;  随意编写即可  categries(分类) &amp;emsp;&amp;emsp;  根据个人的分类进行编写  tags(标签)">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fv7totbwftj20lt0f176x.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fv6wnzuvzbj20i20mgn4t.jpg">
<meta property="og:updated_time" content="2018-11-29T14:50:16.478Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="用HEXO和MARKDOWN格式书写博客">
<meta name="twitter:description" content="1.标题，分类以及标签的格式以本文的标题作例子：上下必须有 —12345--- title: 用HEXO和MARKDOWN格式书写博客 categories: 配置篇 tags: [MARKDOWN,HEXO,BLOG] ---  title(标题) &amp;emsp;&amp;emsp;  随意编写即可  categries(分类) &amp;emsp;&amp;emsp;  根据个人的分类进行编写  tags(标签)">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fv7totbwftj20lt0f176x.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"Left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/09/13/用HEXO和MARKDOWN格式书写博客/"/>





  <title>用HEXO和MARKDOWN格式书写博客 | Caiiiiii's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-Left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Caiiiiii's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">来局昆特牌吗？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/13/用HEXO和MARKDOWN格式书写博客/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Caiiiiii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/bz.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Caiiiiii's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">用HEXO和MARKDOWN格式书写博客</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-13T13:25:57+08:00">
                2018-09-13
              </time>
              </span>
              
  <span class="post-updated">
    &nbsp; | &nbsp; 更新于
    <time itemprop="dateUpdated" datetime="2018-11-29T22:50:16+08:00" content="2018-11-29">
      2018-11-29
    </time>
  </span>

            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/配置篇/" itemprop="url" rel="index">
                    <span itemprop="name">配置篇</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="1-标题，分类以及标签的格式"><a href="#1-标题，分类以及标签的格式" class="headerlink" title="1.标题，分类以及标签的格式"></a>1.标题，分类以及标签的格式</h1><p>以本文的标题作例子：<strong>上下必须有 <font color="red">—</font></strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"> title: 用HEXO和MARKDOWN格式书写博客</span><br><span class="line"> categories: 配置篇</span><br><span class="line"> tags: [MARKDOWN,HEXO,BLOG]</span><br><span class="line"> ---</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p><strong>title(标题)</strong><br> &emsp;&emsp;  随意编写即可</p>
</li>
<li><p><strong>categries(分类)</strong><br> &emsp;&emsp;  根据个人的分类进行编写</p>
</li>
<li><p><strong>tags(标签)</strong><br>   &emsp;&emsp;单个标签直接写上去，多个标签用大括号包括起来<br>&emsp;&emsp;[tag1,tag2,tag3]</p>
</li>
</ul>
<a id="more"></a>
<p>#2.MARKDOWN基本的书写格式</p>
<h2 id="MARKDOWN的六级标题"><a href="#MARKDOWN的六级标题" class="headerlink" title="MARKDOWN的六级标题"></a><strong>MARKDOWN的六级标题</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#一级标题</span><br><span class="line">##二级标题</span><br><span class="line">###三级标题</span><br><span class="line">####四级标题</span><br><span class="line">#####五级标题</span><br><span class="line">######六级标题</span><br></pre></td></tr></table></figure>
<p>=====================</p>
<p>#一级标题</p>
<p>##二级标题</p>
<p>###三级标题</p>
<p>####四级标题</p>
<p>#####五级标题</p>
<h1 id="六级标题"><a href="#六级标题" class="headerlink" title="######六级标题"></a>######六级标题</h1><h2 id="加粗"><a href="#加粗" class="headerlink" title="加粗"></a><strong>加粗</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">要加粗的文字左右分别用两个*号包起来</span><br><span class="line"></span><br><span class="line">**加粗**</span><br></pre></td></tr></table></figure>
<h2 id="斜体"><a href="#斜体" class="headerlink" title="斜体"></a><strong>斜体</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">要倾斜的文字左右分别用一个*号包起来</span><br><span class="line"></span><br><span class="line">*斜体*</span><br></pre></td></tr></table></figure>
<h2 id="斜体加粗"><a href="#斜体加粗" class="headerlink" title="斜体加粗"></a><strong>斜体加粗</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">要倾斜和加粗的文字左右分别用三个*号包起来</span><br><span class="line"></span><br><span class="line">***</span><br></pre></td></tr></table></figure>
<h2 id="删除线"><a href="#删除线" class="headerlink" title="删除线"></a><strong>删除线</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">要加删除线的文字左右分别用两个~~号包起来</span><br><span class="line"></span><br><span class="line">~~删除线~~</span><br></pre></td></tr></table></figure>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a><strong>引用</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;这是引用的内容</span><br><span class="line">&gt;&gt;这是引用的内容</span><br><span class="line">&gt;&gt;&gt;这是引用的内容</span><br></pre></td></tr></table></figure>
<p>==========================</p>
<blockquote>
<p>这是引用的内容</p>
<blockquote>
<p>这是引用的内容</p>
<blockquote>
<p>这是引用的内容</p>
</blockquote>
</blockquote>
</blockquote>
<p>==========================</p>
<h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a><strong>分割线</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">三个或者三个以上的 - 或者 * 都可以。</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">----</span><br><span class="line">***</span><br><span class="line">*****</span><br></pre></td></tr></table></figure>
<h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a><strong>图片</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">![图片alt](图片地址 &apos;&apos;图片title&apos;&apos;)</span><br><span class="line"></span><br><span class="line">图片alt就是显示在图片下面的文字，相当于对图片内容的解释。</span><br><span class="line">图片title是图片的标题，当鼠标移到图片上时显示的内容。title可加可不加</span><br></pre></td></tr></table></figure>
<p>####示例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">使用新浪图床上传图片并获取图片的地址</span><br><span class="line">在CHROME浏览器安装图床插件，成功后在浏览器右上角即可看到</span><br><span class="line">打开后将图片拖拽进去，即生成图片地址</span><br><span class="line"></span><br><span class="line">插件地址：</span><br><span class="line">https://chrome.google.com/webstore/detail/%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A%E5%9B%BE%E5%BA%8A/fdfdnfpdplfbbnemmmoklbfjbhecpnhf?hl=zh-CN</span><br></pre></td></tr></table></figure></p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6ly1fv7totbwftj20lt0f176x.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fv6wnzuvzbj20i20mgn4t.jpg" alt=""></p>
<h2 id="超链接地址"><a href="#超链接地址" class="headerlink" title="超链接地址"></a><strong>超链接地址</strong></h2><p>格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[超链接名](超链接地址 &quot;超链接title&quot;)</span><br><span class="line">title可加可不加</span><br></pre></td></tr></table></figure></p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[谷歌](http://google.com)</span><br></pre></td></tr></table></figure></p>
<p>效果：<br><a href="http://google.com" target="_blank" rel="noopener">谷歌</a></p>
<h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a><strong>表格</strong></h2><p>语法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">表头|表头|表头</span><br><span class="line">:-|  :-: | -:</span><br><span class="line">内容|内容|内容</span><br><span class="line">内容|内容|内容</span><br><span class="line"></span><br><span class="line">在 - 左侧加 : ，表示内容靠左</span><br><span class="line">在 - 两侧加 : ，表示内容居中</span><br><span class="line">在 - 右侧加 : ，表示内容靠右</span><br><span class="line">用 | 隔开每一列</span><br></pre></td></tr></table></figure></p>
<p>示例：</p>
<table>
<thead>
<tr>
<th style="text-align:left">表头</th>
<th style="text-align:center">表头</th>
<th style="text-align:right">表头</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">内容</td>
<td style="text-align:center">内容</td>
<td style="text-align:right">内容</td>
</tr>
<tr>
<td style="text-align:left">内容</td>
<td style="text-align:center">内容</td>
<td style="text-align:right">内容</td>
</tr>
</tbody>
</table>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a><strong>代码</strong></h2><p>1.单行代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">代码之间分别用一个反引号包起来</span><br><span class="line"> `代码内容`</span><br></pre></td></tr></table></figure></p>
<p><code>create database hero;</code></p>
<h2 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a><strong>特殊字符</strong></h2><p> 有些字符会与markdown格式冲突，如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$  &amp;  ￥</span><br></pre></td></tr></table></figure></p>
<p>2.代码块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">代码之间分别用三个反引号包起来，且两边的反引号单独占一行</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fun()&#123;</span><br><span class="line">     echo &quot;这是一句非常牛逼的代码&quot;;</span><br><span class="line">&#125;</span><br><span class="line">fun();</span><br></pre></td></tr></table></figure>
<h1 id="3-发布"><a href="#3-发布" class="headerlink" title="3.发布"></a>3.发布</h1><p>再架构成功的基础下，打开git Bash，输入</p>
<blockquote>
<p>$ hexo d -g</p>
</blockquote>
<p>回车即发布</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/HEXO/" rel="tag"># HEXO</a>
          
            <a href="/tags/BLOG/" rel="tag"># BLOG</a>
          
            <a href="/tags/MARKDOWN/" rel="tag"># MARKDOWN</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/09/14/测试封面/" rel="prev" title="测试封面">
                测试封面 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/bz.gif"
                alt="Caiiiiii" />
            
              <p class="site-author-name" itemprop="name">Caiiiiii</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Caiiiiii" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:995017591@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/cai-yuan-qin/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://steamcommunity.com/id/995017591" target="_blank" title="Steam">
                      
                        <i class="fa fa-fw fa-globe"></i>Steam</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-标题，分类以及标签的格式"><span class="nav-number">1.</span> <span class="nav-text">1.标题，分类以及标签的格式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#MARKDOWN的六级标题"><span class="nav-number">1.1.</span> <span class="nav-text">MARKDOWN的六级标题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#六级标题"><span class="nav-number">2.</span> <span class="nav-text">######六级标题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#加粗"><span class="nav-number">2.1.</span> <span class="nav-text">加粗</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#斜体"><span class="nav-number">2.2.</span> <span class="nav-text">斜体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#斜体加粗"><span class="nav-number">2.3.</span> <span class="nav-text">斜体加粗</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#删除线"><span class="nav-number">2.4.</span> <span class="nav-text">删除线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#引用"><span class="nav-number">2.5.</span> <span class="nav-text">引用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分割线"><span class="nav-number">2.6.</span> <span class="nav-text">分割线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#图片"><span class="nav-number">2.7.</span> <span class="nav-text">图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#超链接地址"><span class="nav-number">2.8.</span> <span class="nav-text">超链接地址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#表格"><span class="nav-number">2.9.</span> <span class="nav-text">表格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码"><span class="nav-number">2.10.</span> <span class="nav-text">代码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#特殊字符"><span class="nav-number">2.11.</span> <span class="nav-text">特殊字符</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-发布"><span class="nav-number">3.</span> <span class="nav-text">3.发布</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Caiiiiii</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/%E7%94%A8HEXO%E5%92%8CMARKDOWN%E6%A0%BC%E5%BC%8F%E4%B9%A6%E5%86%99%E5%8D%9A%E5%AE%A2/" data-id="ck1vqx9f700022othdthsh522" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Java常见面试题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/Java%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/" class="article-date">
  <time datetime="2019-10-18T03:14:42.536Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/Java%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/">Java常见面试题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Java," />










<meta name="keywords" content="Java">
<meta property="og:type" content="article">
<meta property="og:title" content="Java常见面试题">
<meta property="og:url" content="http://yoursite.com/2018/11/29/Java常见面试题/index.html">
<meta property="og:site_name" content="Caiiiiii&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxpasjv2k8j218g0p0e81.jpg">
<meta property="og:updated_time" content="2018-11-29T15:07:11.628Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java常见面试题">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxpasjv2k8j218g0p0e81.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"Left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/11/29/Java常见面试题/"/>





  <title>Java常见面试题 | Caiiiiii's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-Left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Caiiiiii's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">来局昆特牌吗？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/29/Java常见面试题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Caiiiiii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/bz.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Caiiiiii's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java常见面试题</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-29T22:18:17+08:00">
                2018-11-29
              </time>
              </span>
              
  <span class="post-updated">
    &nbsp; | &nbsp; 更新于
    <time itemprop="dateUpdated" datetime="2018-11-29T23:07:11+08:00" content="2018-11-29">
      2018-11-29
    </time>
  </span>

            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/后端篇/" itemprop="url" rel="index">
                    <span itemprop="name">后端篇</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxpasjv2k8j218g0p0e81.jpg" alt=""><br><a id="more"></a></p>
<h1 id="1、什么是Java虚拟机？为什么Java被称作是“平台无关的编程语言”？"><a href="#1、什么是Java虚拟机？为什么Java被称作是“平台无关的编程语言”？" class="headerlink" title="1、什么是Java虚拟机？为什么Java被称作是“平台无关的编程语言”？"></a>1、什么是Java虚拟机？为什么Java被称作是“平台无关的编程语言”？</h1><p>Java虚拟机是一个可以执行Java字节码的虚拟机进程。Java源文件被编译成能被Java虚拟机执行的字节码文件。<br>Java被设计成允许应用程序可以运行在任意的平台，而不需要程序员为每一个平台单独重写或者是重新编译。Java虚拟机让这个变为可能，因为它知道底层硬件平台的指令长度和其他特性。</p>
<h1 id="2、JDK和JRE的区别是什么？"><a href="#2、JDK和JRE的区别是什么？" class="headerlink" title="2、JDK和JRE的区别是什么？"></a>2、JDK和JRE的区别是什么？</h1><p>Java运行时环境(JRE)。它包括Java虚拟机、Java核心类库和支持文件。它不包含开发工具（JDK）–编译器、调试器和其他工具。<br>Java开发工具包(JDK)是完整的Java软件开发包，包含了JRE，编译器和其他的工具(比如：JavaDoc，Java调试器)，可以让开发者开发、编译、执行Java应用程序。</p>
<h1 id="3、”static”关键字是什么意思？Java中是否可以覆盖-override-一个private或者是static的方法？"><a href="#3、”static”关键字是什么意思？Java中是否可以覆盖-override-一个private或者是static的方法？" class="headerlink" title="3、”static”关键字是什么意思？Java中是否可以覆盖(override)一个private或者是static的方法？"></a>3、”static”关键字是什么意思？Java中是否可以覆盖(override)一个private或者是static的方法？</h1><p>“static”关键字表明一个成员变量或者是成员方法可以在没有所属的类的实例变量的情况下被访问。<br>Java中static方法不能被覆盖，因为方法覆盖是基于运行时动态绑定的，而static方法是编译时静态绑定的。static方法跟类的任何实例都不相关，所以概念上不适用。<br>java中也不可以覆盖private的方法，因为private修饰的变量和方法只能在当前类中使用，如果是其他的类继承当前类是不能访问到private变量或方法的，当然也不能覆盖。</p>
<h1 id="4、是否可以在static环境中访问非static变量？"><a href="#4、是否可以在static环境中访问非static变量？" class="headerlink" title="4、是否可以在static环境中访问非static变量？"></a>4、是否可以在static环境中访问非static变量？</h1><p>因为静态的成员属于类，随着类的加载而加载到静态方法区内存，当类加载时，此时不一定有实例创建，没有实例，就不可以访问非静态的成员。</p>
<h1 id="5、Java支持的数据类型有哪些？什么是自动拆装箱？"><a href="#5、Java支持的数据类型有哪些？什么是自动拆装箱？" class="headerlink" title="5、Java支持的数据类型有哪些？什么是自动拆装箱？"></a>5、Java支持的数据类型有哪些？什么是自动拆装箱？</h1><p>Java支持8种基本数据类型：byte,char,short,int,long,boolean,double,float。jdk1.5后可以自动实现基本数据类型的装箱和拆箱。装箱是指，将基本数据转化成对象。转化为对象可以方便的操作数据。利用面向对象的方法方便的实现对数据的操作。拆箱就是装箱的逆过程。</p>
<h1 id="6、Java中的方法覆盖-Overriding-和方法重载-Overload-是什么意思？"><a href="#6、Java中的方法覆盖-Overriding-和方法重载-Overload-是什么意思？" class="headerlink" title="6、Java中的方法覆盖(Overriding)和方法重载(Overload)是什么意思？"></a>6、Java中的方法覆盖(Overriding)和方法重载(Overload)是什么意思？</h1><p>方法重写的原则：<br>1、重写方法的方法名称、参数列表必须与原方法的相同，返回类型可以相同也可以是原类型的子类型<br>2、重写方法不能比原方法访问性差（即访问权限不允许缩小）。<br>3、重写方法不能比原方法抛出更多的异常。<br>4、被重写的方法不能是final类型，因为final修饰的方法是无法重写的。<br>5、被重写的方法不能为private，否则在其子类中只是新定义了一个方法，并没有对其进行重写。<br>6、被重写的方法不能为static。如果父类中的方法为静态的，而子类中的方法不是静态的，但是两个方法除了这一点外其他都满足重写条件，那么会发生编译错误；反之亦然。即使父类和子类中的方法都是静态的，并且满足重写条件，但是仍然不会发生重写，因为静态方法是在编译的时候把静态方法和类的引用类型进行匹配。<br>7、重写是发生在运行时的，因为编译期编译器不知道并且没办法确定该去调用哪个方法，JVM会在代码运行的时候作出决定。</p>
<p>方法重载的原则：<br>1、方法名称必须相同。<br>2、参数列表必须不同（个数不同、或类型不同、参数类型排列顺序不同等）。<br>3、方法的返回类型可以相同也可以不相同。<br>4、仅仅返回类型不同不足以成为方法的重载。<br>5、重载是发生在编译时的，因为编译器可以根据参数的类型来选择使用哪个方法。</p>
<p>重写和重载的不同：<br>1、方法重写要求参数列表必须一致，而方法重载要求参数列表必须不一致。<br>2、方法重写要求返回类型必须一致(或为其子类型)，方法重载对此没有要求。<br>3、方法重写只能用于子类重写父类的方法，方法重载用于同一个类中的所有方法。<br>4、方法重写对方法的访问权限和抛出的异常有特殊的要求，而方法重载在这方面没有任何限制。<br>5、父类的一个方法只能被子类重写一次，而一个方法可以在所有的类中可以被重载多次。<br>6、重载是编译时多态，重写是运行时多态。</p>
<h1 id="7、Java中，什么是构造方法？什么是构造方法重载？"><a href="#7、Java中，什么是构造方法？什么是构造方法重载？" class="headerlink" title="7、Java中，什么是构造方法？什么是构造方法重载？"></a>7、Java中，什么是构造方法？什么是构造方法重载？</h1><p>当新对象被创建的时候，构造方法会被调用。每一个类都有构造方法。在程序员没有给类提供构造方法的情况下，Java编译器会为这个类创建一个默认的构造方法。<br>Java中构造方法重载和方法重载很相似。可以为一个类创建多个构造方法。每一个构造方法必须有它自己唯一的参数列表。</p>
<h1 id="8、Java支持多继承么？"><a href="#8、Java支持多继承么？" class="headerlink" title="8、Java支持多继承么？"></a>8、Java支持多继承么？</h1><p>Java中类不支持多继承，只支持单继承（即一个类只有一个父类）。 但是java中的接口支持多继承，，即一个子接口可以有多个父接口。（接口的作用是用来扩展对象的功能，一个子接口继承多个父接口，说明子接口扩展了多个功能，当类实现接口时，类就扩展了相应的功能）。</p>
<h1 id="9、接口和抽象类的区别是什么？"><a href="#9、接口和抽象类的区别是什么？" class="headerlink" title="9、接口和抽象类的区别是什么？"></a>9、接口和抽象类的区别是什么？</h1><p>从设计层面来说，抽象是对类的抽象，是一种模板设计，接口是行为的抽象，是一种行为的规范</p>
<h1 id="10、什么是值传递和引用传递？"><a href="#10、什么是值传递和引用传递？" class="headerlink" title="10、什么是值传递和引用传递？"></a>10、什么是值传递和引用传递？</h1><p>值传递是对基本型变量而言的,传递的是该变量的一个副本,改变副本不影响原变量.<br>引用传递一般是对于对象型变量而言的,传递的是该对象地址的一个副本, 并不是原对象本身 。<br>一般认为,java内的基础类型数据传递都是值传递. java中实例对象的传递是引用传递</p>
<h1 id="11、进程和线程的区别是什么？"><a href="#11、进程和线程的区别是什么？" class="headerlink" title="11、进程和线程的区别是什么？"></a>11、进程和线程的区别是什么？</h1><p>进程是执行着的应用程序，而线程是进程内部的一个执行序列。一个进程可以有多个线程。线程又叫做轻量级进程。<br>线程与进程的区别归纳：<br>a.地址空间和其它资源：进程间相互独立，同一进程的各线程间共享。某进程内的线程在其它进程不可见。<br>b.通信：进程间通信IPC，线程间可以直接读写进程数据段（如全局变量）来进行通信——需要进程同步和互斥手段的辅助，以保证数据的一致性。<br>c.调度和切换：线程上下文切换比进程上下文切换要快得多。<br>d.在多线程OS中，进程不是一个可执行的实体。</p>
<h1 id="12、创建线程有几种不同的方式？你喜欢哪一种？为什么？"><a href="#12、创建线程有几种不同的方式？你喜欢哪一种？为什么？" class="headerlink" title="12、创建线程有几种不同的方式？你喜欢哪一种？为什么？"></a>12、创建线程有几种不同的方式？你喜欢哪一种？为什么？</h1><p>有4种方式可以用来创建线程：<br>继承Thread类<br>实现Runnable接口<br>应用程序可以使用Executor框架来创建线程池<br>实现Callable接口</p>
<p>实现Runnable接口这种方式更受欢迎，因为这不需要继承Thread类。在应用设计中已经继承了别的对象的情况下，这需要多继承（而Java不支持多继承），只能实现接口。同时，线程池也是非常高效的，很容易实现和使用。<br>实现Runnable接口这种方式更受欢迎，因为这不需要继承Thread类。在应用设计中已经继承了别的对象的情况下，这需要多继承（而Java不支持多继承），只能实现接口。同时，线程池也是非常高效的，很容易实现和使用。</p>
<h1 id="13、概括的解释下线程的几种可用状态。"><a href="#13、概括的解释下线程的几种可用状态。" class="headerlink" title="13、概括的解释下线程的几种可用状态。"></a>13、概括的解释下线程的几种可用状态。</h1><ol>
<li>新建( new )：新创建了一个线程对象。</li>
<li>可运行( runnable )：线程对象创建后，其他线程(比如 main 线程）调用了该对象 的 start ()方法。该状态的线程位于可运行线程池中，等待被线程调度选中，获 取 cpu 的使用权 。</li>
<li>运行( running )：可运行状态( runnable )的线程获得了 cpu 时间片（ timeslice ） ，执行程序代码。</li>
<li>阻塞( block )：阻塞状态是指线程因为某种原因放弃了 cpu 使用权，也即让出了 cpu timeslice ，暂时停止运行。直到线程进入可运行( runnable )状态，才有 机会再次获得 cpu timeslice 转到运行( running )状态。阻塞的情况分三种：<br>(一). 等待阻塞：运行( running )的线程执行 o . wait ()方法， JVM 会把该线程放 入等待队列( waitting queue )中。<br>(二). 同步阻塞：运行( running )的线程在获取对象的同步锁时，若该同步锁 被别的线程占用，则 JVM 会把该线程放入锁池( lock pool )中。<br>(三). 其他阻塞: 运行( running )的线程执行 Thread . sleep ( long ms )或 t . join ()方法，或者发出了 I / O 请求时， JVM 会把该线程置为阻塞状态。            当 sleep ()状态超时、 join ()等待线程终止或者超时、或者 I / O 处理完毕时，线程重新转入可运行( runnable )状态。</li>
<li>死亡( dead )：线程 run ()、 main () 方法执行结束，或者因异常退出了 run ()方法，则该线程结束生命周期。死亡的线程不可再次复生。</li>
</ol>
<h1 id="14、同步方法和同步代码块的区别是什么？"><a href="#14、同步方法和同步代码块的区别是什么？" class="headerlink" title="14、同步方法和同步代码块的区别是什么？"></a>14、同步方法和同步代码块的区别是什么？</h1><p>同步方法默认用this或者当前类class对象作为锁；<br>同步代码块可以选择以什么来加锁，比同步方法要更细颗粒度，我们可以选择只同步会发生同步问题的部分代码而不是整个方法；<br>同步方法使用关键字 synchronized修饰方法，而同步代码块主要是修饰需要进行同步的代码，用   synchronized（object）{代码内容}进行修饰；</p>
<h1 id="15、什么是死锁-deadlock-？"><a href="#15、什么是死锁-deadlock-？" class="headerlink" title="15、什么是死锁(deadlock)？"></a>15、什么是死锁(deadlock)？</h1><p>所谓死锁是指多个进程因竞争资源而造成的一种僵局（互相等待），若无外力作用，这些进程都将无法向前推进。死锁产生的4个必要条件：<br>互斥条件：进程要求对所分配的资源（如打印机）进行排他性控制，即在一段时间内某 资源仅为一个进程所占有。此时若有其他进程请求该资源，则请求进程只能等待。<br>不剥夺条件：进程所获得的资源在未使用完毕之前，不能被其他进程强行夺走，即只能 由获得该资源的进程自己来释放（只能是主动释放)。<br>请求和保持条件：进程已经保持了至少一个资源，但又提出了新的资源请求，而该资源 已被其他进程占有，此时请求进程被阻塞，但对自己已获得的资源保持不放。<br>循环等待条件：存在一种进程资源的循环等待链，链中每一个进程已获得的资源同时被 链中下一个进程所请求。</p>
<h1 id="16、如何确保N个线程可以访问N个资源同时又不导致死锁？"><a href="#16、如何确保N个线程可以访问N个资源同时又不导致死锁？" class="headerlink" title="16、如何确保N个线程可以访问N个资源同时又不导致死锁？"></a>16、如何确保N个线程可以访问N个资源同时又不导致死锁？</h1><p>使用多线程的时候，一种非常简单的避免死锁的方式就是：指定获取锁的顺序，并强制线程按照指定的顺序获取锁。因此，如果所有的线程都是以同样的顺序加锁和释放锁，就不会出现死锁了。</p>
<h1 id="17、Java集合类框架的基本接口有哪些？"><a href="#17、Java集合类框架的基本接口有哪些？" class="headerlink" title="17、Java集合类框架的基本接口有哪些？"></a>17、Java集合类框架的基本接口有哪些？</h1><p>集合类接口指定了一组叫做元素的对象。集合类接口的每一种具体的实现类都可以选择以它自己的方式对元素进行保存和排序。有的集合类允许重复的键，有些不允许。<br>Java集合类提供了一套设计良好的支持对一组对象进行操作的接口和类。Java集合类里面最基本的接口有：<br>Collection：代表一组对象，每一个对象都是它的子元素。<br>Set：不包含重复元素的Collection。<br>List：有顺序的collection，并且可以包含重复元素。<br>Map：可以把键(key)映射到值(value)的对象，键不能重复。</p>
<h1 id="18、什么是迭代器-Iterator-？"><a href="#18、什么是迭代器-Iterator-？" class="headerlink" title="18、什么是迭代器(Iterator)？"></a>18、什么是迭代器(Iterator)？</h1><p>Iterator接口提供了很多对集合元素进行迭代的方法。每一个集合类都包含了可以返回迭代器实例的<br>迭代方法。迭代器可以在迭代的过程中删除底层集合的元素,但是不可以直接调用集合的<br>remove(Object Obj)删除，可以通过迭代器的remove()方法删除。<br>（当不是很清楚list的内部结构时，便使用迭代器进行循环操作）</p>
<h1 id="19、Iterator和ListIterator的区别是什么？"><a href="#19、Iterator和ListIterator的区别是什么？" class="headerlink" title="19、Iterator和ListIterator的区别是什么？"></a>19、Iterator和ListIterator的区别是什么？</h1><p>Iterator可用来遍历Set和List集合，但是ListIterator只能用来遍历List。<br>Iterator对集合只能是前向遍历，ListIterator既可以前向也可以后向。<br>ListIterator实现了Iterator接口，并包含其他的功能，比如：增加元素，替换元素，获取前一个和后一个元素的索引，等等。</p>
<h1 id="20、Java中的HashMap的工作原理是什么？"><a href="#20、Java中的HashMap的工作原理是什么？" class="headerlink" title="20、Java中的HashMap的工作原理是什么？"></a>20、Java中的HashMap的工作原理是什么？</h1><p>Java中的HashMap是以键值对(key-value)的形式存储元素的。HashMap需要一个hash函数，它使用hashCode()和equals()方法来向集合/从集合添加和检索元素。当调用put()方法的时候，HashMap会计算key的hash值，然后把键值对存储在集合中合适的索引上。如果key已经存在了，value会被更新成新值。HashMap的一些重要的特性是它的容量(capacity)，负载因子(load factor)和扩容极限(threshold resizing)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">面试如何回答HashMap的取值</span><br><span class="line">https://blog.csdn.net/anneqiqi/article/details/51584493</span><br></pre></td></tr></table></figure>
<h1 id="21、hashCode-和equals-方法的重要性体现在什么地方？"><a href="#21、hashCode-和equals-方法的重要性体现在什么地方？" class="headerlink" title="21、hashCode()和equals()方法的重要性体现在什么地方？"></a>21、hashCode()和equals()方法的重要性体现在什么地方？</h1><p>Java中的HashMap使用hashCode()和equals()方法来确定键值对的索引，当根据键获取值的时候也会用到这两个方法。如果没有正确的实现这两个方法，两个不同的键可能会有相同的hash值，因此，可能会被集合认为是相等的。而且，这两个方法也用来发现重复元素。所以这两个方法的实现对HashMap的精确性和正确性是至关重要的。</p>
<h1 id="22、HashMap和Hashtable有什么区别？"><a href="#22、HashMap和Hashtable有什么区别？" class="headerlink" title="22、HashMap和Hashtable有什么区别？"></a>22、HashMap和Hashtable有什么区别？</h1><p>HashMap和Hashtable都实现了Map接口，因此很多特性非常相似。但是，他们有以下不同点：<br>HashMap允许键和值是null，而Hashtable不允许键或者值是null。<br>Hashtable是同步的，而HashMap不是。因此，HashMap更适合于单线程环境，而Hashtable适合于多线程环境。<br>HashMap提供了可供应用迭代的键的集合，因此，HashMap是快速失败的。另一方面，Hashtable提供了对键的列举(Enumeration)。<br>一般认为Hashtable是一个遗留的类。</p>
<h1 id="23、数组-Array-和列表-ArrayList-有什么区别？什么时候应该使用Array而不是ArrayList？"><a href="#23、数组-Array-和列表-ArrayList-有什么区别？什么时候应该使用Array而不是ArrayList？" class="headerlink" title="23、数组(Array)和列表(ArrayList)有什么区别？什么时候应该使用Array而不是ArrayList？"></a>23、数组(Array)和列表(ArrayList)有什么区别？什么时候应该使用Array而不是ArrayList？</h1><p>Array可以包含基本类型和对象类型，ArrayList只能包含对象类型。<br>Array大小是固定的，ArrayList的大小是动态变化的。<br>ArrayList提供了更多的方法和特性，比如：addAll()，removeAll()，iterator()等等。<br>对于基本类型数据，集合使用自动装箱来减少编码工作量。但是，当处理固定大小的基本数据类型的时候，这种方式相对比较慢。</p>
<h1 id="24、ArrayList和LinkedList有什么区别？"><a href="#24、ArrayList和LinkedList有什么区别？" class="headerlink" title="24、ArrayList和LinkedList有什么区别？"></a>24、ArrayList和LinkedList有什么区别？</h1><p>ArrayList的实现用的是数组，LinkedList是基于链表，ArrayList适合查找，LinkedList适合增删</p>
<p>ArrayList是基于索引的数据接口，它的底层是数组。它可以以O(1)时间复杂度对元素进行随机访问。与此对应，LinkedList是以元素列表的形式存储它的数据，每一个元素都和它的前一个和后一个元素链接在一起，在这种情况下，查找某个元素的时间复杂度是O(n)。<br>相对于ArrayList，LinkedList的插入，添加，删除操作速度更快，因为当元素被添加到集合任意位置的时候，不需要像数组那样重新计算大小或者是更新索引。<br>LinkedList比ArrayList更占内存，因为LinkedList为每一个节点存储了两个引用，一个指向前一个元素，一个指向下一个元素。<br>也可以参考ArrayList vs. LinkedList。</p>
<h1 id="25、Java中垃圾回收有什么目的？什么时候进行垃圾回收？"><a href="#25、Java中垃圾回收有什么目的？什么时候进行垃圾回收？" class="headerlink" title="25、Java中垃圾回收有什么目的？什么时候进行垃圾回收？"></a>25、Java中垃圾回收有什么目的？什么时候进行垃圾回收？</h1><p>垃圾回收是在内存中存在没有引用的对象或超过作用域的对象时进行。<br>垃圾回收的目的是识别并且丢弃应用不再使用的对象来释放和重用资源。</p>
<h1 id="26、如果对象的引用被置为null，垃圾收集器是否会立即释放对象占用的内存？"><a href="#26、如果对象的引用被置为null，垃圾收集器是否会立即释放对象占用的内存？" class="headerlink" title="26、如果对象的引用被置为null，垃圾收集器是否会立即释放对象占用的内存？"></a>26、如果对象的引用被置为null，垃圾收集器是否会立即释放对象占用的内存？</h1><p>不会，在下一个垃圾回收周期中，这个对象将是可被回收的。</p>
<h1 id="27、Java堆的结构是什么样子的？什么是堆中的永久代-Perm-Gen-space"><a href="#27、Java堆的结构是什么样子的？什么是堆中的永久代-Perm-Gen-space" class="headerlink" title="27、Java堆的结构是什么样子的？什么是堆中的永久代(Perm Gen space)?"></a>27、Java堆的结构是什么样子的？什么是堆中的永久代(Perm Gen space)?</h1><p>JVM的堆是运行时数据区，所有类的实例和数组都是在堆上分配内存。它在JVM启动的时候被创建。对象所占的堆内存是由自动内存管理系统也就是垃圾收集器回收。<br>堆内存是由存活和死亡的对象组成的。存活的对象是应用可以访问的，不会被垃圾回收。死亡的对象是应用不可访问尚且还没有被垃圾收集器回收掉的对象。一直到垃圾收集器把这些对象回收掉之前，他们会一直占据堆内存空间。</p>
<p>永久代是用于存放静态文件，如Java类、方法等。持久代对垃圾回收没有显著影响，但是有些应用可能动态生成或者调用一些class，例如Hibernate 等，在这种时候需要设置一个比较大的持久代空间来存放这些运行过程中新增的类，永久代中一般包含：<br>类的方法(字节码…)<br>类名(Sring对象)<br>.class文件读到的常量信息<br>class对象相关的对象列表和类型列表 (e.g., 方法对象的array).<br>JVM创建的内部对象<br>JIT编译器优化用的信息</p>
<h1 id="28、什么是Servlet？"><a href="#28、什么是Servlet？" class="headerlink" title="28、什么是Servlet？"></a>28、什么是Servlet？</h1><p>Servlet是用来处理客户端请求并产生动态网页内容的Java类。Servlet主要是用来处理或者是存储HTML表单提交的数据，产生动态内容，在无状态的HTTP协议下管理状态信息。</p>
<h1 id="29、doGet-方法和doPost-方法有什么区别？"><a href="#29、doGet-方法和doPost-方法有什么区别？" class="headerlink" title="29、doGet()方法和doPost()方法有什么区别？"></a>29、doGet()方法和doPost()方法有什么区别？</h1><p>doGet：GET方法会把名值对追加在请求的URL后面。因为URL对字符数目有限制，进而限制了用在客户端请求的参数值的数目。并且请求中的参数值是可见的，因此，敏感信息不能用这种方式传递。<br>doPOST：POST方法通过把请求参数值放在请求体中来克服GET方法的限制，因此，可以发送的参数的数目是没有限制的。最后，通过POST请求传递的敏感信息对外部客户端是不可见的。</p>
<h1 id="30、HTTP响应的结构是怎么样的？"><a href="#30、HTTP响应的结构是怎么样的？" class="headerlink" title="30、HTTP响应的结构是怎么样的？"></a>30、HTTP响应的结构是怎么样的？</h1><p>HTTP响应由三个部分组成：<br>状态码(Status Code)：描述了响应的状态。可以用来检查是否成功的完成了请求。请求失败的情况下，状态码可用来找出失败的原因。如果Servlet没有返回状态码，默认会返回成功的状态码HttpServletResponse.SC_OK。<br>HTTP头部(HTTP Header)：它们包含了更多关于响应的信息。比如：头部可以指定认为响应过期的过期日期，或者是指定用来给用户安全的传输实体内容的编码格式。如何在Serlet中检索HTTP的头部看这里。<br>主体(Body)：它包含了响应的内容。它可以包含HTML代码，图片，等等。主体是由传输在HTTP消息中紧跟在头部后面的数据字节组成的。</p>
<h1 id="31、什么是cookie？session和cookie有什么区别？"><a href="#31、什么是cookie？session和cookie有什么区别？" class="headerlink" title="31、什么是cookie？session和cookie有什么区别？"></a>31、什么是cookie？session和cookie有什么区别？</h1><p>cookie是Web服务器发送给浏览器的一块信息。浏览器会在本地文件中给每一个Web服务器存储cookie。以后浏览器在给特定的Web服务器发请求的时候，同时会发送所有为该服务器存储的cookie。下面列出了session和cookie的区别：<br>无论客户端浏览器做怎么样的设置，session都应该能正常工作。客户端可以选择禁用cookie，但是，session仍然是能够工作的，因为客户端无法禁用服务端的session。<br>在存储的数据量方面session和cookies也是不一样的。session能够存储任意的Java对象，cookie只能存储String类型的对象。</p>
<h1 id="32、sendRedirect-和forward-方法有什么区别？"><a href="#32、sendRedirect-和forward-方法有什么区别？" class="headerlink" title="32、sendRedirect()和forward()方法有什么区别？"></a>32、sendRedirect()和forward()方法有什么区别？</h1><p>forward是服务器内部的跳转，浏览器的地址栏不会发生变化，同时可以把request和response传递给后一个请求。sendRedirect()是浏览器方面的跳转，要发送两次请求，地址栏也会发生变化，同时request和response也会发生变化，重新生成新的对象。</p>
<h1 id="33、什么是URL编码和URL解码？"><a href="#33、什么是URL编码和URL解码？" class="headerlink" title="33、什么是URL编码和URL解码？"></a>33、什么是URL编码和URL解码？</h1><p>URL编码是负责把URL里面的空格和其他的特殊字符替换成对应的十六进制表示，反之就是解码。</p>
<h1 id="34、面向对象软件开发的优点有哪些？"><a href="#34、面向对象软件开发的优点有哪些？" class="headerlink" title="34、面向对象软件开发的优点有哪些？"></a>34、面向对象软件开发的优点有哪些？</h1><p>代码开发模块化，更易维护和修改。<br>代码复用。<br>增强代码的可靠性和灵活性。<br>增加代码的可理解性。<br>面向对象编程有很多重要的特性，比如：封装，继承，多态和抽象。</p>
<h1 id="35、封装的定义和好处有哪些？"><a href="#35、封装的定义和好处有哪些？" class="headerlink" title="35、封装的定义和好处有哪些？"></a>35、封装的定义和好处有哪些？</h1><p>一是用private把类的细节与外界隔离起来，从而实现数据项和方法的隐藏，而要访问这些数据项和方法唯一的途径就是通过类本身，类才有资格调用它所拥有的资源（方法，数据项属性等等）。所以第一个好处就是数据的安全性提高了。</p>
<p>二是通过隐藏隔离，只允许外部对类做有限的访问，开发者可以自由的改变类的内部实现，而无需修改使用该类的那些程序。只要那些在类外部就能被调用的方法保持其外部特征不变，内部代码就可以自由改变，各取所需，利于分工。</p>
<p>三就是提高了代码的重用性，封装成工具类以后能够减少很多繁琐的步骤。</p>
<h1 id="36、多态的定义？"><a href="#36、多态的定义？" class="headerlink" title="36、多态的定义？"></a>36、多态的定义？</h1><p>多态产生的原因：函数的重载和函数覆盖<br>多态的表现：不同对象，调用相同函数结果不同；相同对象，调用相同函数名函数（参数列表返回值可能不一样）结果不同。<br>多态的作用：提高程序的可复用性；动态创建对象时，可以通过父类调用子类的方法（核心：涉及到反射的相关知识，大家可以查查资料）。</p>
<h1 id="37、继承的定义？"><a href="#37、继承的定义？" class="headerlink" title="37、继承的定义？"></a>37、继承的定义？</h1><p>继承是一种类与类之间的关系<br>利用一个已经存在的类，快速的创建新的类的机制<br>被继承的类称为父类/超类，继承者称为子类（得到继承的类为子类）<br>子类继承父类，拥有父类所有属性和方法</p>
<h1 id="38、抽象的定义？抽象和封装的不同点？"><a href="#38、抽象的定义？抽象和封装的不同点？" class="headerlink" title="38、抽象的定义？抽象和封装的不同点？"></a>38、抽象的定义？抽象和封装的不同点？</h1><p>就是把现实生活中的某一类东西提取出来，用程序代码表示，我们通常叫做类或者接口。抽象包括两个方面：一个是数据抽象，一个是过程抽象。数据抽象也就是对象的属性。过程抽象是对象的行为特征。<br>封装：把客观事物封装成抽象的类，并且类可以把自己的数据和方法只让可信的类或者对象操作，对不可信的进行封装隐藏。封装分为属性的封装和方法的封装。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java/" rel="tag"># Java</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/09/19/JQUERY的基本使用方法/" rel="next" title="JQUERY的基本使用方法">
                <i class="fa fa-chevron-left"></i> JQUERY的基本使用方法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/09/计算机网络/" rel="prev" title="计算机网络常考面试题">
                计算机网络常考面试题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/bz.gif"
                alt="Caiiiiii" />
            
              <p class="site-author-name" itemprop="name">Caiiiiii</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Caiiiiii" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:995017591@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/cai-yuan-qin/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://steamcommunity.com/id/995017591" target="_blank" title="Steam">
                      
                        <i class="fa fa-fw fa-globe"></i>Steam</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1、什么是Java虚拟机？为什么Java被称作是“平台无关的编程语言”？"><span class="nav-number">1.</span> <span class="nav-text">1、什么是Java虚拟机？为什么Java被称作是“平台无关的编程语言”？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2、JDK和JRE的区别是什么？"><span class="nav-number">2.</span> <span class="nav-text">2、JDK和JRE的区别是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3、”static”关键字是什么意思？Java中是否可以覆盖-override-一个private或者是static的方法？"><span class="nav-number">3.</span> <span class="nav-text">3、”static”关键字是什么意思？Java中是否可以覆盖(override)一个private或者是static的方法？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4、是否可以在static环境中访问非static变量？"><span class="nav-number">4.</span> <span class="nav-text">4、是否可以在static环境中访问非static变量？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5、Java支持的数据类型有哪些？什么是自动拆装箱？"><span class="nav-number">5.</span> <span class="nav-text">5、Java支持的数据类型有哪些？什么是自动拆装箱？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6、Java中的方法覆盖-Overriding-和方法重载-Overload-是什么意思？"><span class="nav-number">6.</span> <span class="nav-text">6、Java中的方法覆盖(Overriding)和方法重载(Overload)是什么意思？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7、Java中，什么是构造方法？什么是构造方法重载？"><span class="nav-number">7.</span> <span class="nav-text">7、Java中，什么是构造方法？什么是构造方法重载？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8、Java支持多继承么？"><span class="nav-number">8.</span> <span class="nav-text">8、Java支持多继承么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9、接口和抽象类的区别是什么？"><span class="nav-number">9.</span> <span class="nav-text">9、接口和抽象类的区别是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#10、什么是值传递和引用传递？"><span class="nav-number">10.</span> <span class="nav-text">10、什么是值传递和引用传递？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#11、进程和线程的区别是什么？"><span class="nav-number">11.</span> <span class="nav-text">11、进程和线程的区别是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#12、创建线程有几种不同的方式？你喜欢哪一种？为什么？"><span class="nav-number">12.</span> <span class="nav-text">12、创建线程有几种不同的方式？你喜欢哪一种？为什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#13、概括的解释下线程的几种可用状态。"><span class="nav-number">13.</span> <span class="nav-text">13、概括的解释下线程的几种可用状态。</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#14、同步方法和同步代码块的区别是什么？"><span class="nav-number">14.</span> <span class="nav-text">14、同步方法和同步代码块的区别是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#15、什么是死锁-deadlock-？"><span class="nav-number">15.</span> <span class="nav-text">15、什么是死锁(deadlock)？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#16、如何确保N个线程可以访问N个资源同时又不导致死锁？"><span class="nav-number">16.</span> <span class="nav-text">16、如何确保N个线程可以访问N个资源同时又不导致死锁？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#17、Java集合类框架的基本接口有哪些？"><span class="nav-number">17.</span> <span class="nav-text">17、Java集合类框架的基本接口有哪些？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#18、什么是迭代器-Iterator-？"><span class="nav-number">18.</span> <span class="nav-text">18、什么是迭代器(Iterator)？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#19、Iterator和ListIterator的区别是什么？"><span class="nav-number">19.</span> <span class="nav-text">19、Iterator和ListIterator的区别是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#20、Java中的HashMap的工作原理是什么？"><span class="nav-number">20.</span> <span class="nav-text">20、Java中的HashMap的工作原理是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#21、hashCode-和equals-方法的重要性体现在什么地方？"><span class="nav-number">21.</span> <span class="nav-text">21、hashCode()和equals()方法的重要性体现在什么地方？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#22、HashMap和Hashtable有什么区别？"><span class="nav-number">22.</span> <span class="nav-text">22、HashMap和Hashtable有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#23、数组-Array-和列表-ArrayList-有什么区别？什么时候应该使用Array而不是ArrayList？"><span class="nav-number">23.</span> <span class="nav-text">23、数组(Array)和列表(ArrayList)有什么区别？什么时候应该使用Array而不是ArrayList？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#24、ArrayList和LinkedList有什么区别？"><span class="nav-number">24.</span> <span class="nav-text">24、ArrayList和LinkedList有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#25、Java中垃圾回收有什么目的？什么时候进行垃圾回收？"><span class="nav-number">25.</span> <span class="nav-text">25、Java中垃圾回收有什么目的？什么时候进行垃圾回收？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#26、如果对象的引用被置为null，垃圾收集器是否会立即释放对象占用的内存？"><span class="nav-number">26.</span> <span class="nav-text">26、如果对象的引用被置为null，垃圾收集器是否会立即释放对象占用的内存？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#27、Java堆的结构是什么样子的？什么是堆中的永久代-Perm-Gen-space"><span class="nav-number">27.</span> <span class="nav-text">27、Java堆的结构是什么样子的？什么是堆中的永久代(Perm Gen space)?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#28、什么是Servlet？"><span class="nav-number">28.</span> <span class="nav-text">28、什么是Servlet？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#29、doGet-方法和doPost-方法有什么区别？"><span class="nav-number">29.</span> <span class="nav-text">29、doGet()方法和doPost()方法有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#30、HTTP响应的结构是怎么样的？"><span class="nav-number">30.</span> <span class="nav-text">30、HTTP响应的结构是怎么样的？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#31、什么是cookie？session和cookie有什么区别？"><span class="nav-number">31.</span> <span class="nav-text">31、什么是cookie？session和cookie有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#32、sendRedirect-和forward-方法有什么区别？"><span class="nav-number">32.</span> <span class="nav-text">32、sendRedirect()和forward()方法有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#33、什么是URL编码和URL解码？"><span class="nav-number">33.</span> <span class="nav-text">33、什么是URL编码和URL解码？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#34、面向对象软件开发的优点有哪些？"><span class="nav-number">34.</span> <span class="nav-text">34、面向对象软件开发的优点有哪些？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#35、封装的定义和好处有哪些？"><span class="nav-number">35.</span> <span class="nav-text">35、封装的定义和好处有哪些？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#36、多态的定义？"><span class="nav-number">36.</span> <span class="nav-text">36、多态的定义？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#37、继承的定义？"><span class="nav-number">37.</span> <span class="nav-text">37、继承的定义？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#38、抽象的定义？抽象和封装的不同点？"><span class="nav-number">38.</span> <span class="nav-text">38、抽象的定义？抽象和封装的不同点？</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Caiiiiii</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/Java%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/" data-id="ck1vqxoc200042oth7zmu5fi9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-计算机网络" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="article-date">
  <time datetime="2019-10-18T03:14:42.536Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Abc, A" />










<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络常考面试题">
<meta property="og:url" content="http://yoursite.com/2018/12/09/计算机网络/index.html">
<meta property="og:site_name" content="Caiiiiii&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fy0ifyjox3j20yw0lqh8q.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvv9bi7u1j20aa04rwet.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvvg24b0ej20cc073dgu.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvvge5xhjj20g706nwez.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxv16bqdl7j20ob0r4amr.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fxv5s0gx3vj20tb0d67b6.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvncmrzquj21h60kyjwa.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvnhafyonj20wm0i077k.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxxfi728xij20lg0a9q3u.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxxfp48cz5j20ln0axwfh.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxxh6hwmb7j20i00fk75m.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyhd91uq2j20ki036glz.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyi1xq953j20la03d74x.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyi1lcs47j20la03f0te.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyiaz6s3aj20ki07bq3z.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyiv251uqj20f20d80u3.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxz6rm0up4j20b007e75i.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fxz77ruj6nj20i604egnb.jpg">
<meta property="og:updated_time" content="2018-12-28T03:56:35.495Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="计算机网络常考面试题">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fy0ifyjox3j20yw0lqh8q.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"Left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/12/09/计算机网络/"/>





  <title>计算机网络常考面试题 | Caiiiiii's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-Left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Caiiiiii's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">来局昆特牌吗？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/09/计算机网络/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Caiiiiii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/bz.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Caiiiiii's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">计算机网络常考面试题</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-09T15:04:03+08:00">
                2018-12-09
              </time>
              </span>
              
  <span class="post-updated">
    &nbsp; | &nbsp; 更新于
    <time itemprop="dateUpdated" datetime="2018-12-28T11:56:35+08:00" content="2018-12-28">
      2018-12-28
    </time>
  </span>

            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机网络/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://ww1.sinaimg.cn/large/bfd348c6ly1fy0ifyjox3j20yw0lqh8q.jpg" alt=""><br><a id="more"></a></p>
<h1 id="OSI七层协议模型、TCP-IP四层模型和五层协议体系结构之间的关系"><a href="#OSI七层协议模型、TCP-IP四层模型和五层协议体系结构之间的关系" class="headerlink" title="OSI七层协议模型、TCP/IP四层模型和五层协议体系结构之间的关系"></a>OSI七层协议模型、TCP/IP四层模型和五层协议体系结构之间的关系</h1><h2 id="1、OSI七层模型"><a href="#1、OSI七层模型" class="headerlink" title="1、OSI七层模型"></a>1、OSI七层模型</h2><p>OSI七层协议模型主要是：应用层（Application）、表示层（Presentation）、会话层（Session）、传输层（Transport）、网络层（Network）、数据链路层（Data Link）、物理层（Physical）。</p>
<h2 id="2、TCP-IP四层模型"><a href="#2、TCP-IP四层模型" class="headerlink" title="2、TCP/IP四层模型"></a>2、TCP/IP四层模型</h2><p>TCP/IP是一个四层的体系结构，主要包括：应用层、运输层、网际层和网络接口层。从实质上讲，只有上边三层，网络接口层没有什么具体的内容。<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvv9bi7u1j20aa04rwet.jpg" alt=""></p>
<h2 id="3、五层体系结构"><a href="#3、五层体系结构" class="headerlink" title="3、五层体系结构"></a>3、五层体系结构</h2><p>五层体系结构包括：应用层、运输层、网络层、数据链路层和物理层。<br>五层协议只是OSI和TCP/IP的综合，实际应用还是TCP/IP的四层结构。为了方便可以把下两层称为网络接口层。<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvvg24b0ej20cc073dgu.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvvge5xhjj20g706nwez.jpg" alt=""></p>
<h2 id="4、各层作用"><a href="#4、各层作用" class="headerlink" title="4、各层作用"></a>4、各层作用</h2><p>1、物理层：<br>主要定义物理设备标准，如网线的接口类型、光纤的接口类型、各种传输介质的传输速率等。它的主要作用是传输比特流（就是由1、0转化为电流强弱来进行传输,到达目的地后在转化为1、0，也就是我们常说的数模转换与模数转换）。这一层的数据叫做比特。 　　</p>
<p>2、数据链路层：<br>定义了如何让格式化数据以进行传输（成帧），以及如何让控制对物理介质的访问。这一层通常还提供错误检测和纠正，以确保数据的可靠传输。</p>
<p>3、网络层：<br>在位于不同地理位置的网络中的两个主机系统之间提供连接和路径选择。Internet的发展使得从世界各站点访问信息的用户数大大增加，而网络层正是管理这种连接的层。 　　</p>
<p>4、运输层：<br>定义了一些传输数据的协议和端口号（WWW端口80等），如：<br>TCP（transmission control protocol –传输控制协议，传输效率低，可靠性强，用于传输可靠性要求高，数据量大的数据）<br>UDP（user datagram protocol–用户数据报协议，与TCP特性恰恰相反，用于传输可靠性要求不高，数据量小的数据，如QQ聊天数据就是通过这种方式传输的）。 主要是将从下层接收的数据进行分段和传输，到达目的地址后再进行重组。常常把这一层数据叫做段。 　　</p>
<p>5、会话层：<br>通过运输层（端口号：传输端口与接收端口）建立数据传输的通路。主要在你的系统之间发起会话或者接受会话请求（设备之间需要互相认识可以是IP也可以是MAC或者是主机名） 　　</p>
<p>6、表示层：<br>可确保一个系统的应用层所发送的信息可以被另一个系统的应用层读取。例如，PC程序与另一台计算机进行通信，其中一台计算机使用扩展二一十进制交换码（EBCDIC），而另一台则使用美国信息交换标准码（ASCII）来表示相同的字符。如有必要，表示层会通过使用一种通格式来实现多种数据格式之间的转换。 　　</p>
<p>7、应用层：<br>是最靠近用户的OSI层。这一层为用户的应用程序（例如电子邮件、文件传输和终端仿真）提供网络服务。</p>
<h1 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h1><p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxv16bqdl7j20ob0r4amr.jpg" alt=""></p>
<h3 id="需要的信息："><a href="#需要的信息：" class="headerlink" title="需要的信息："></a>需要的信息：</h3><p>ACK： TCP 协议规定，只有 ACK=1 时有效，也规定连接建立后所有发送的报文的 ACK 必须为 1。</p>
<p>SYN(SYNchronization) ： 在连接建立时用来同步序号。当 SYN=1 而 ACK=0 时，表明这是一个连接请求报文。对方若同意建立连接，则应在响应报文中使 SYN=1 和 ACK=1. 因此, SYN 置 1 就表示这是一个连接请求或连接接受报文。</p>
<p>FIN （finish）即完，终结的意思， 用来释放一个连接。当 FIN = 1 时，表明此报文段的发送方的数据已经发送完毕，并要求释放连接。</p>
<h2 id="三次握手"><a href="#三次握手" class="headerlink" title="三次握手"></a>三次握手</h2><ul>
<li>第一次握手：建立连接。客户端发送请求报文段，SYN设置为 1，SYN seq = x，客户端进入 SYN_SEND 状态，等待服务器确认。</li>
<li>第二次握手：服务器收到SYN报文段，对报文段进行确认。并将SYN设置为 1，同时将ACK设为x+1 ，SYN seq = y，将所有信息放在一个报文段发送给客户端。</li>
<li>第三次握手：客户端收到服务端的SYN+ACK报文段，然后将ACK设置为y+1，向服务端发送ACK报文段。进入ESTABLISHED状态，完成TCP三次握手。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">为什么不是二次握手而是三次握手呢？</span><br><span class="line">ans：为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误</span><br></pre></td></tr></table></figure>
<h2 id="四次挥手-四次分手"><a href="#四次挥手-四次分手" class="headerlink" title="四次挥手/四次分手"></a>四次挥手/四次分手</h2><ul>
<li>第一次挥手：主机A 设置seq和ack，向主机B发送FIN报文段，主机A进入FIN_WAIT状态，表示没有数据要发送给主机B了。</li>
<li>第二次挥手：主机B收到主机A的FIN报文段，想主机A回一个ACK报文段，ACK为seq + 1，主机B”告诉”主机A，同意你的关闭请求。</li>
<li>第三次挥手：主机B向主机A发送FIN报文段，请求关闭连接，主机B进入LAST_ACK状态。</li>
<li>第四次挥手：主机A收到主机B的FIN报文段，向主机B发送ACK报文段，主机B收到主机A的报文段后关闭连接。此时，主机A等待2MSL（报文最大生存时间）后没有收到回复，则主机A关闭连接。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">为什么不是三次挥手而是四次挥手？</span><br><span class="line">ans：在第二次挥手结束后，表示主机A没有数据要发送给主机B，但主机B可以发送给主机A，当主机B也发送FIN报文段时，表示主机B也没有数据要发送了。彼此断开连接。</span><br></pre></td></tr></table></figure>
<h1 id="TCP-滑动窗口（避免拥塞的发生）"><a href="#TCP-滑动窗口（避免拥塞的发生）" class="headerlink" title="TCP 滑动窗口（避免拥塞的发生）"></a>TCP 滑动窗口（避免拥塞的发生）</h1><p>窗口是缓存的一部分，用来暂时存放字节流。发送方和接收方各有一个窗口，接收方通过 TCP 报文段中的窗口字段告诉发送方自己的窗口大小，发送方根据这个值和其它信息设置自己的窗口大小。</p>
<p>发送窗口内的字节都允许被发送，接收窗口内的字节都允许被接收。如果发送窗口左部的字节已经发送并且收到了确认，那么就将发送窗口向右滑动一定距离，直到左部第一个字节不是已发送并且已确认的状态；接收窗口的滑动类似，接收窗口左部字节已经发送确认并交付主机，就向右滑动接收窗口。</p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6ly1fxv5s0gx3vj20tb0d67b6.jpg" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">发送31到41字节，&#123;32,33&#125;丢失，接收到31后向右滑动一格，由于没有收到32字节的确认，重新发送32到42的字节。</span><br></pre></td></tr></table></figure></p>
<h1 id="TCP-拥塞控制"><a href="#TCP-拥塞控制" class="headerlink" title="TCP 拥塞控制"></a>TCP 拥塞控制</h1><h3 id="TCP-主要通过四个算法（机制）来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。"><a href="#TCP-主要通过四个算法（机制）来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。" class="headerlink" title="TCP 主要通过四个算法（机制）来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。"></a>TCP 主要通过四个算法（机制）来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。</h3><p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvncmrzquj21h60kyjwa.jpg" alt=""></p>
<h4 id="1、慢开始与拥塞避免"><a href="#1、慢开始与拥塞避免" class="headerlink" title="1、慢开始与拥塞避免"></a>1、慢开始与拥塞避免</h4><p>发送的最初执行慢开始，令 cwnd = 1，发送方只能发送 1 个报文段；当收到确认后，将 cwnd 加倍，因此之后发送方能够发送的报文段数量为：2、4、8 …</p>
<p>注意到慢开始每个轮次都将 cwnd 加倍，这样会让 cwnd 增长速度非常快，从而使得发送方发送的速度增长速度过快，网络拥塞的可能性也就更高。设置一个慢开始门限 ssthresh，当 cwnd &gt;= ssthresh 时，进入拥塞避免，每个轮次只将 cwnd 加 1。</p>
<p>如果出现了超时，则令 ssthresh = cwnd / 2，然后重新执行慢开始。</p>
<h4 id="2、快重传与快恢复"><a href="#2、快重传与快恢复" class="headerlink" title="2、快重传与快恢复"></a>2、快重传与快恢复</h4><p>在接收方，要求每次接收到报文段都应该对最后一个已收到的有序报文段进行确认。例如已经接收到 M1 和 M2，此时收到 M4，应当发送对 M2 的确认。</p>
<p>在发送方，如果收到三个重复确认，那么可以知道下一个报文段丢失，此时执行快重传，立即重传下一个报文段。例如收到三个 M2，则 M3 丢失，立即重传 M3。</p>
<p>在这种情况下，只是丢失个别报文段，而不是网络拥塞。因此执行快恢复，令 ssthresh = cwnd / 2 ，cwnd = ssthresh，注意到此时直接进入拥塞避免。</p>
<p>慢开始和快恢复的快慢指的是 cwnd 的设定值，而不是 cwnd 的增长速率。慢开始 cwnd 设定为 1，而快恢复 cwnd 设定为 ssthresh。</p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxvnhafyonj20wm0i077k.jpg" alt=""></p>
<h1 id="TCP-和-UDP-的不同"><a href="#TCP-和-UDP-的不同" class="headerlink" title="TCP 和 UDP 的不同"></a>TCP 和 UDP 的不同</h1><p>TCP在传送数据之前必须先建立连接，数据传送结束后摇释放连接。<br>TCP不提供广播或者多播服务，由于TCP提供可靠的、面向连接的运输服务，因此不可避免地增加了许多的开销，如确认，流量控制，计时器及连接管理等。</p>
<p>而UDP在传送数据之前不需要先建立连接。接收方收到UDP的报文后，也不需要给出任何确认。<br>虽然UDP不提供可靠交付，但在某些情况下UDP确实最有效的工作方式。</p>
<p><strong>UDP：单个数据报，不用建立连接，简单，不可靠，会丢包，会乱序；</strong><br><strong>TCP：流式，需要建立连接，复杂，可靠 ，有序。</strong></p>
<h2 id="TCP对应的协议"><a href="#TCP对应的协议" class="headerlink" title="TCP对应的协议"></a>TCP对应的协议</h2><p>（1） FTP：定义了文件传输协议，使用21端口。</p>
<p>（2） Telnet：一种用于远程登陆的端口，使用23端口，用户可以以自己的身份远程连接到计算机上，可提供基于DOS模式下的通信服务。</p>
<p>（3） SMTP：邮件传送协议，用于发送邮件。服务器开放的是25号端口。</p>
<p>（4） POP3：它是和SMTP对应，POP3用于接收邮件。POP3协议所用的是110端口。</p>
<p>（5）HTTP：是从Web服务器传输超文本到本地浏览器的传送协议。</p>
<h2 id="UDP对应的协议"><a href="#UDP对应的协议" class="headerlink" title="UDP对应的协议"></a>UDP对应的协议</h2><p>（1） DNS：用于域名解析服务，将域名地址转换为IP地址。DNS用的是53号端口。</p>
<p>（2） SNMP：简单网络管理协议，使用161号端口，是用来管理网络设备的。由于网络设备很多，无连接的服务就体现出其优势。</p>
<p>（3） TFTP(Trival File Tran敏感词er Protocal)，简单文件传输协议，该协议在熟知端口69上使用UDP服务。</p>
<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><h2 id="什么是HTTP？"><a href="#什么是HTTP？" class="headerlink" title="什么是HTTP？"></a>什么是HTTP？</h2><p>超文本传输协议（HTTP）的设计目的是保证客户机与服务器之间的通信。</p>
<p>HTTP 的工作方式是客户机与服务器之间的请求-应答协议。</p>
<h2 id="HTTP格式"><a href="#HTTP格式" class="headerlink" title="HTTP格式"></a>HTTP格式</h2><p>HTTP使用统一资源标识符（URI）来传输数据和建立连接。URL是一种特殊种类的资源标识符。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://google.com/</span><br></pre></td></tr></table></figure></p>
<p>1.协议部分<br>该URL协议部分为http： ，表示网页用的是HTTP协议。后面//为分隔符<br>2.域名部分<br>域名是google.com，发送请求时，向DNS服务器解析IP<br>3.端口部分(非必要)<br>域名后面的和域名之间用：分隔，端口不是URL一个必须的部分，如果端口是80，可以省略不写。<br>4.虚拟目录部分(非必要)<br>从域名的第一个/开始到最后一个/为止，是虚拟目录的部分。虚拟目录也不是URL的必要部分<br>5.文件名部分(非必要)<br>如index.html，也不是必须部分<br>6.参数部分(非必要)<br>从?开始到#之间部分是参数部分，如果有多个参数，各个参数之间用&amp;作为分隔符。<br>7.锚部分(非必要)<br>从#开始到最后，都是锚部分</p>
<h2 id="GET方法和POST方法区别"><a href="#GET方法和POST方法区别" class="headerlink" title="GET方法和POST方法区别"></a>GET方法和POST方法区别</h2><p>（1）在客户端，GET方式在通过URL提交数据，数据在URL中可以看到；POST方式，数据是放置在Request Body内提交的。因为POST的数据是不可见的，相比之下POST更安全。<br>（2）GET请求会被浏览器主动储存，而POST不会。<br>（3）GET方式提交数据最多1024个字节且参数的数据类型只接受ASCII字符，而POST没有限制。<br>（4）GET产生一个TCP数据包；POST产生两个TCP数据包。（先发头部header，返回100 continue后发送数据data）</p>
<h2 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a>HTTP状态码</h2><p>服务器返回的 响应报文 中第一行为状态行，包含了状态码以及原因短语，用来告知客户端请求的结果。</p>
<table>
<thead>
<tr>
<th style="text-align:left">状态码</th>
<th style="text-align:center">类别</th>
<th style="text-align:right">原因短语</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1XX</td>
<td style="text-align:center">Informational（信息性状态码）</td>
<td style="text-align:right">接收的请求正在处理</td>
</tr>
<tr>
<td style="text-align:left">2XX</td>
<td style="text-align:center">Success（成功状态码）</td>
<td style="text-align:right">请求正常处理完毕</td>
</tr>
<tr>
<td style="text-align:left">3XX</td>
<td style="text-align:center">Redirection（重定向状态码）</td>
<td style="text-align:right">需要进行附加操作以完成请求</td>
</tr>
<tr>
<td style="text-align:left">4XX</td>
<td style="text-align:center">Client Error（客户端错误状态码）</td>
<td style="text-align:right">服务器无法处理请求</td>
</tr>
<tr>
<td style="text-align:left">5XX</td>
<td style="text-align:center">Server Error（服务器错误状态码）</td>
<td style="text-align:right">服务器处理请求出错</td>
</tr>
</tbody>
</table>
<h3 id="1XX-信息"><a href="#1XX-信息" class="headerlink" title="1XX 信息"></a>1XX 信息</h3><ul>
<li>100 Continue ：表明到目前为止都很正常，客户端可以继续发送请求或者忽略这个响应。</li>
</ul>
<h3 id="2XX-成功"><a href="#2XX-成功" class="headerlink" title="2XX 成功"></a>2XX 成功</h3><ul>
<li>200 OK</li>
<li>204 No Content：请求已经成功处理，但是返回的响应报文不包含实体的主体部分。一般在只需要从客户端往服务器发送信息，而不需要返回数据时使用。</li>
<li>206 Partial Content ：表示客户端进行了范围请求，响应报文包含由 Content-Range 指定范围的实体内容。</li>
</ul>
<h3 id="3XX重定向"><a href="#3XX重定向" class="headerlink" title="3XX重定向"></a>3XX重定向</h3><ul>
<li>301 Moved Permanently ：永久性重定向</li>
<li>302 Found ：临时性重定向</li>
<li>303 See Other ：和 302 有着相同的功能，但是 303 明确要求客户端应该采用 GET 方法获取资源。</li>
<li>304 Not Modified ：如果请求报文首部包含一些条件，例如：If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since，如果不满足条件，则服务器会返回 304 状态码。</li>
<li>307 Temporary Redirect ：临时重定向，与 302 的含义类似，但是 307 要求浏览器不会把重定向请求的 POST 方法改成 GET 方法。</li>
</ul>
<h3 id="4XXX客户端错误"><a href="#4XXX客户端错误" class="headerlink" title="4XXX客户端错误"></a>4XXX客户端错误</h3><ul>
<li>400 Bad Request ：请求报文中存在语法错误。</li>
<li>401 Unauthorized ：该状态码表示发送的请求需要有认证信息（BASIC 认证、DIGEST 认证）。如果之前已进行过一次请求，则表示用户认证失败。</li>
<li>403 Forbidden ：请求被拒绝。</li>
<li>404 Not Found</li>
</ul>
<h3 id="5XX服务器错误"><a href="#5XX服务器错误" class="headerlink" title="5XX服务器错误"></a>5XX服务器错误</h3><ul>
<li>500 Internal Server Error ：服务器正在执行请求时发生错误。</li>
<li>503 Service Unavailable ：服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。</li>
</ul>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>HTTP 协议是无状态的，主要是为了让 HTTP 协议尽可能简单，使得它能够处理大量事务。HTTP/1.1 引入 Cookie 来保存状态信息。</p>
<p>Cookie 是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器之后向同一服务器再次发起请求时被携带上，用于告知服务端两个请求是否来自同一浏览器。由于之后每次请求都会需要携带 Cookie 数据，因此会带来额外的性能开销（尤其是在移动环境下）。</p>
<p>Cookie 曾一度用于客户端数据的存储，因为当时并没有其它合适的存储办法而作为唯一的存储手段，但现在随着现代浏览器开始支持各种各样的存储方式，Cookie 渐渐被淘汰。新的浏览器 API 已经允许开发者直接将数据存储到本地，如使用 Web storage API（本地存储和会话存储）或 IndexedDB。</p>
<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><p>除了可以将用户信息通过 Cookie 存储在用户浏览器中，也可以利用 Session 存储在服务器端，存储在服务器端的信息更加安全。</p>
<p>Session 可以存储在服务器上的文件、数据库或者内存中。也可以将 Session 存储在 Redis 这种内存型数据库中，效率会更高。</p>
<p>使用 Session 维护用户登录状态的过程如下：</p>
<ul>
<li>用户进行登录时，用户提交包含用户名和密码的表单，放入 HTTP 请求报文中；</li>
<li>服务器验证该用户名和密码，如果正确则把用户信息存储到 Redis 中，它在 Redis 中的 Key 称为 Session ID；</li>
<li>服务器返回的响应报文的 Set-Cookie 首部字段包含了这个 Session ID，客户端收到响应报文之后将该 Cookie 值存入浏览器中；</li>
<li>客户端之后对同一个服务器进行请求时会包含该 Cookie 值，服务器收到之后提取出 Session ID，从 Redis 中取出用户信息，继续之前的业务操作。</li>
</ul>
<p>应该注意 Session ID 的安全性问题，不能让它被恶意攻击者轻易获取，那么就不能产生一个容易被猜到的 Session ID 值。此外，还需要经常重新生成 Session ID。在对安全性要求极高的场景下，例如转账等操作，除了使用 Session 管理用户状态之外，还需要对用户进行重新验证，比如重新输入密码，或者使用短信验证码等方式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Cookie 与 Session 选择</span><br><span class="line"></span><br><span class="line">1、Cookie 只能存储 ASCII 码字符串，而 Session 则可以存取任何类型的数据，因此在考虑数据复杂性时首选 Session；</span><br><span class="line">2、Cookie 存储在浏览器中，容易被恶意查看。如果非要将一些隐私数据存在 Cookie 中，可以将 Cookie 值进行加密，然后在服务器进行解密；</span><br><span class="line">3、对于大型网站，如果用户所有的信息都存储在 Session 中，那么开销是非常大的，因此不建议将所有的用户信息都存储到 Session 中。</span><br></pre></td></tr></table></figure>
<h2 id="HTTP缓存"><a href="#HTTP缓存" class="headerlink" title="HTTP缓存"></a>HTTP缓存</h2><h3 id="缓存过程"><a href="#缓存过程" class="headerlink" title="缓存过程"></a>缓存过程</h3><p>当一个用户发起一个静态资源请求的时候,浏览器会通过以下几步来获取资源<br>当第一次发送请求，http返回200的状态码，</p>
<p>如果没有关闭缓存请求的话（没标明不使用缓存，下述）则会在返回头中返回包含last-Modified以及Etag和Expires的字段（这些字段下面慢慢说），然后将文件保存在Cache目录下；</p>
<p>当后续请求该文件时候，先在本地查找该资源,如果在本地缓存找到对应的资源,但是不知道该资源是否过期或者已经过期, 则发一个http请求到服务器,然后服务器判断这个请求,</p>
<p>如果请求的资源在服务器上没有改动过,则返回304, 让浏览器使用本地找到的那个资源</p>
<p>而如果当服务器发现请求的资源已经修改过,或者这是一个新的请求(本地无对应资源),服务器则返回该资源的数据,并且返回200,</p>
<p>当然这个是指找到资源的情况下,如果服务器上没有这个资源,则返回404。</p>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>缓解服务器压力；</li>
<li>降低客户端获取资源的延迟：缓存通常位于内存中，读取缓存的速度更快。并且缓存在地理位置上也有可能比源服务器来得近，例如浏览器缓存。</li>
</ul>
<h3 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h3><p>HTTP/1.1 通过 Cache-Control 首部字段来控制缓存。</p>
<h3 id="缓存指令"><a href="#缓存指令" class="headerlink" title="缓存指令"></a>缓存指令</h3><ul>
<li>禁止缓存 Cache-Control：no-store</li>
<li>强制缓存 Cache-Control：no-cache</li>
<li>私有缓存 Cache-Control：private<br>（private 指令规定了将资源作为私有缓存，只能被单独用户所使用，一般存储在用户浏览器中。）</li>
<li>公共缓存 Cache-Control：public<br>（public 指令规定了将资源作为公共缓存，可以被多个用户所使用，一般存储在代理服务器中。）</li>
</ul>
<h3 id="缓存过期机制"><a href="#缓存过期机制" class="headerlink" title="缓存过期机制"></a>缓存过期机制</h3><p>max-age 指令出现在请求报文中，并且缓存资源的缓存时间小于该指令指定的时间，那么就能接受该缓存。</p>
<p>max-age 指令出现在响应报文中，表示缓存资源在缓存服务器中保存的时间。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: max-age=31536000</span><br></pre></td></tr></table></figure></p>
<p>Expires 首部字段也可以用于告知缓存服务器该资源什么时候会过期。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Expires: Wed, 04 Jul 2012 08:26:05 GMT</span><br></pre></td></tr></table></figure></p>
<p><strong>在 HTTP/1.1 中，会优先处理 max-age 指令；</strong></p>
<h3 id="缓存验证"><a href="#缓存验证" class="headerlink" title="缓存验证"></a>缓存验证</h3><p>需要先了解 ETag 首部字段的含义，它是资源的唯一标识。URL 不能唯一表示资源，例如 <a href="http://www.google.com/" target="_blank" rel="noopener">http://www.google.com/</a> 有中文和英文两个资源，只有 ETag 才能对这两个资源进行唯一标识。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ETag: &quot;82e22293907ce725faf67773957acd12&quot;</span><br></pre></td></tr></table></figure></p>
<p>可以将缓存资源的 ETag 值放入 If-None-Match 首部，服务器收到该请求后，判断缓存资源的 ETag 值和资源的最新 ETag 值是否一致，如果一致则表示缓存资源有效，返回 304 Not Modified。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">If-None-Match: &quot;82e22293907ce725faf67773957acd12&quot;</span><br></pre></td></tr></table></figure></p>
<p>last-modified : 表示文件最后修改时间；</p>
<h1 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h1><p> HTTP有以下安全问题：</p>
<ul>
<li>使用明文进行通信，内容可能会被窃听</li>
<li>不验证通信方的身份，通信方的身份有可能遭遇伪装</li>
<li>无法证明报文的完整性，报文有可能遭篡改</li>
</ul>
<p>HTTPs 并不是新协议，而是让 HTTP 先和 SSL（Secure Sockets Layer 安全套接层）通信，再由 SSL 和 TCP 通信，也就是说 HTTPs 使用了隧道进行通信。</p>
<h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><h2 id="加密方法"><a href="#加密方法" class="headerlink" title="加密方法"></a>加密方法</h2><p>1.对称密钥加密，加密和解密使用同一密钥。</p>
<ul>
<li>优点：运算速度快。</li>
<li>缺点：无法安全的将密钥传输给通信方。<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxxfi728xij20lg0a9q3u.jpg" alt=""></li>
</ul>
<p>2.非对称密钥加密<br>非对称密钥加密，又称公开密钥加密（Public-Key Encryption），加密和解密使用不同的密钥。</p>
<p>公开密钥所有人都可以获得，通信发送方获得接收方的公开密钥之后，就可以使用公开密钥进行加密，接收方收到通信内容后使用私有密钥解密。</p>
<p>非对称密钥除了用来加密，还可以用来进行签名。因为私有密钥无法被其他人获取，因此通信发送方使用其私有密钥进行签名，通信接收方使用发送方的公开密钥对签名进行解密，就能判断这个签名是否正确。</p>
<ul>
<li>优点：可以更安全的将公开密钥传输给通信发送方</li>
<li>缺点：运算速度慢<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxxfp48cz5j20ln0axwfh.jpg" alt=""></li>
</ul>
<h2 id="HTTPs采用的加密方式"><a href="#HTTPs采用的加密方式" class="headerlink" title="HTTPs采用的加密方式"></a>HTTPs采用的加密方式</h2><p>HTTPs采用混合的加密机制，使用非对称密钥加密用于传输对称密钥来保证传输过程的安全性，之后使用对称密钥加密进行通信来保证通信过程的效率。<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxxh6hwmb7j20i00fk75m.jpg" alt=""></p>
<p>① 向<a href="https://www.domain.com/发起请求" target="_blank" rel="noopener">https://www.domain.com/发起请求</a><br>② 服务器端有证书公钥和证书私钥<br>③ 回复客户端一个证书公钥<br>④ 验证是否正确，如果正确，产生一个随机的key，用证书公钥加密该key<br>⑤ 将加密过后的key发送给服务器端<br>⑥ 服务器端用证书私钥解密后，将要发送的数据用key加密<br>⑦ 将用key加密后的数据发送给客户端<br>⑧ 客户端用key对加密的数据进行解密</p>
<h1 id="当你输入域名访问一个网站的时候，背后的过程"><a href="#当你输入域名访问一个网站的时候，背后的过程" class="headerlink" title="当你输入域名访问一个网站的时候，背后的过程"></a>当你输入域名访问一个网站的时候，背后的过程</h1><h2 id="准备阶段"><a href="#准备阶段" class="headerlink" title="准备阶段"></a>准备阶段</h2><p>当你在浏览器输入网址（google.com），并敲了回车，浏览器首先做的事是获取google.com的IP地址，发送一个UDP的包给DNS服务器，DNS会返回google.com的IP，这时候浏览器通常会把IP地址缓存下来。<br>有了服务器IP，得知本机IP，操作系统随机分配一个本机端口，和服务器默认端口80。TCP三次握手建立连接，发送HTTP请求。</p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyhd91uq2j20ki036glz.jpg" alt=""></p>
<h2 id="WEB服务器"><a href="#WEB服务器" class="headerlink" title="WEB服务器"></a>WEB服务器</h2><p>HTTP GET请求经多个路由器转发，到达服务器端。<br>经过反向代理服务器转发给后端Tomcat。（复用I/O方式）<br>（并且把Tomcat输出的HttpResponse再转发给浏览器）<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyi1xq953j20la03d74x.jpg" alt=""></p>
<h2 id="应用服务器"><a href="#应用服务器" class="headerlink" title="应用服务器"></a>应用服务器</h2><p>Http Request来到 Tomcat，这是由Java编写的，可以处理Servlet和Jsp的容器，我们的代码运行在这个容器中。<br>如同Web服务器一样，Tomcat也可能为每个请求分配一个线程去处理（Blcoking I/O模式）</p>
<p>Http Request被某个Servlet处理，Servlet把Http Request转化为框架使用的参数格式，分发给某个COntroller。（如果是用Spring）<br>执行Controller的代码，返回HTTP Response。</p>
<h2 id="归途"><a href="#归途" class="headerlink" title="归途"></a>归途</h2><p>Tomcat将Http Response 发给 代理服务器，代理服务器将之发给浏览器。<br>这个HTTP Response应该是一个HTML页面。<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyi1lcs47j20la03f0te.jpg" alt=""></p>
<p><strong>如果使用的HTTP1.1，这个连接默认是keep-alive，不能关闭的</strong></p>
<h2 id="浏览器再次工作"><a href="#浏览器再次工作" class="headerlink" title="浏览器再次工作"></a>浏览器再次工作</h2><p>浏览器收到Http Response，从中读取HTML页面，开始准备显示这个页面。<br>但这个页面引用大量其他资源，例如js文件，CSS文件，图片等，这些资源也位于服务器，且可能在另外一个域名下。<br>这是只能一个个下载，从DNS获取IP开始，与之前相比，不同之处在于没有应用服务器如Tomcat的介入。<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyiaz6s3aj20ki07bq3z.jpg" alt=""></p>
<p>服务器给浏览器发送js，CSS等文件时，会告知浏览器这些文件说明时候过期，浏览器会将文件缓存在本地，如不过期，下次请求直接从本地取。如果过期了，浏览器询问服务器端，文件是否修改过，如果没修改（304 Not Modified），还可以使用，否则服务器会发送最新的文件给浏览器。</p>
<p>浏览器根据HTML，JS，CSS进行布局绘制，生成我们在浏览器看到的内容。</p>
<h1 id="什么是Socket？"><a href="#什么是Socket？" class="headerlink" title="什么是Socket？"></a>什么是Socket？</h1><ul>
<li><p>解释一<br><strong>实际上socket是对TCP/IP协议的封装，它的出现只是使得程序员更方便地使用TCP/IP协议栈而已。socket本身并不是协议，它是应用层与TCP/IP协议族通信的中间软件抽象层，是一组调用接口（TCP/IP网络的API函数）</strong></p>
</li>
<li><p>解释二<br><strong>Socket是应用层与TCP/IP协议族通信的中间软件抽象层，它是一组接口。在设计模式中，Socket其实就是一个门面模式，它把复杂的TCP/IP协议族隐藏在Socket接口后面，对用户来说，一组简单的接口就是全部，让Socket去组织数据，以符合指定的协议。</strong></p>
</li>
</ul>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxyiv251uqj20f20d80u3.jpg" alt=""></p>
<h1 id="什么是IO，什么是NIO，什么是AIO，什么是netty框架？"><a href="#什么是IO，什么是NIO，什么是AIO，什么是netty框架？" class="headerlink" title="什么是IO，什么是NIO，什么是AIO，什么是netty框架？"></a>什么是IO，什么是NIO，什么是AIO，什么是netty框架？</h1><h2 id="IO-（BIO）"><a href="#IO-（BIO）" class="headerlink" title="IO （BIO）"></a>IO （BIO）</h2><p>同步并阻塞，服务器实现模式为每一个连接建立一个线程。每个线程亲自处理并且一直等待IO的完成。<br>IO的局限：IO是面向流，阻塞式的，串行的一个过程，对每一个客户端的socket连接，IO都需要一个线程来处理，而且在此期间，这个线程一直被占用，直到Socket关闭。也就是说这期间大量的浪费了CPU的时间片和线程占用的内存资源。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream是单向的，比如InputStream只能进行读取操作，OutputStream只能进行写操作。</span><br></pre></td></tr></table></figure></p>
<h2 id="NIO-（new-IO）"><a href="#NIO-（new-IO）" class="headerlink" title="NIO （new IO）"></a>NIO （new IO）</h2><p>同步非阻塞，在NIO中有几个关键的概念：Channel（通道），Buffer（缓冲区），Selector（选择器）<br>创建一个独立的I/O线程，用于轮询多路复用器Selector。客户端发送的连接请求都会注册到多路复用器上，轮询检查IO是否准备完毕，当有Channel准备好时就处理，处理完继续循环。</p>
<p>Channel:为读取文件提供一个通道，是双向的，即可以进行读操作，也可以进行写操作。<br>Buffer：故名思意，缓冲区，实际上是一个容器，是一个连续数组。Channel提供从文件、网络读取数据的渠道，但是读取或写入的数据都必须经由Buffer。<br>Selector（最关键一个部分）：用来轮询每个注册的Channel，一旦发现Channel有注册的事件发生，便获取事件然后进行处理。</p>
<h3 id="Selector："><a href="#Selector：" class="headerlink" title="Selector："></a>Selector：</h3><p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxz6rm0up4j20b007e75i.jpg" alt=""></p>
<p>　Selector类是NIO的核心类，Selector能够检测多个注册的通道上是否有事件发生，如果有事件发生，便获取事件然后针对每个事件进行相应的响应处理。这样一来，只是用一个单线程就可以管理多个通道，也就是管理多个连接。这样使得只有在连接真正有读写事件发生时，才会调用函数来进行读写，就大大地减少了系统开销，并且不必为每个连接都创建一个线程，不用去维护多个线程，并且避免了多线程之间的上下文切换导致的开销。</p>
<h3 id="Buffer："><a href="#Buffer：" class="headerlink" title="Buffer："></a>Buffer：</h3><p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fxz77ruj6nj20i604egnb.jpg" alt=""></p>
<p>  上面的图描述了从一个客户端向服务端发送数据，然后服务端接收数据的过程。客户端发送数据时，必须先将数据存入Buffer中，然后将Buffer中的内容写入通道。服务端这边接收数据必须通过Channel将数据读入到Buffer中，然后再从Buffer中取出数据来处理。</p>
<h2 id="AIO"><a href="#AIO" class="headerlink" title="AIO"></a>AIO</h2><p>异步非阻塞<br>服务器实现模式为一个有效请求一个线程，客户端的I/O请求都是由OS先完成了再通知服务器应用去启动线程进行处理，每个线程不必亲自处理io，而是委派os来处理，并且也不需要等待io完成了，如果完成后，os会通知的。</p>
<h2 id="Netty"><a href="#Netty" class="headerlink" title="Netty"></a>Netty</h2><p>Netty是一款异步的事件驱动的网络应用框架和工具，用于快速开发可维护的高性能、高扩展性协议服务器和客户端。也就是说，Netty是一个NIO客户端/服务器框架，支持快速、简单地开发网络应用，如协议服务器和客户端。它极大简化了网络编程，如TCP和UDP套接字服务器。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/11/29/Java常见面试题/" rel="next" title="Java常见面试题">
                <i class="fa fa-chevron-left"></i> Java常见面试题
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/12/数据库系统原理/" rel="prev" title="数据库系统原理">
                数据库系统原理 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/bz.gif"
                alt="Caiiiiii" />
            
              <p class="site-author-name" itemprop="name">Caiiiiii</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Caiiiiii" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:995017591@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/cai-yuan-qin/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://steamcommunity.com/id/995017591" target="_blank" title="Steam">
                      
                        <i class="fa fa-fw fa-globe"></i>Steam</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#OSI七层协议模型、TCP-IP四层模型和五层协议体系结构之间的关系"><span class="nav-number">1.</span> <span class="nav-text">OSI七层协议模型、TCP/IP四层模型和五层协议体系结构之间的关系</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、OSI七层模型"><span class="nav-number">1.1.</span> <span class="nav-text">1、OSI七层模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、TCP-IP四层模型"><span class="nav-number">1.2.</span> <span class="nav-text">2、TCP/IP四层模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、五层体系结构"><span class="nav-number">1.3.</span> <span class="nav-text">3、五层体系结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、各层作用"><span class="nav-number">1.4.</span> <span class="nav-text">4、各层作用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP协议"><span class="nav-number">2.</span> <span class="nav-text">TCP协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#需要的信息："><span class="nav-number">2.0.1.</span> <span class="nav-text">需要的信息：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三次握手"><span class="nav-number">2.1.</span> <span class="nav-text">三次握手</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四次挥手-四次分手"><span class="nav-number">2.2.</span> <span class="nav-text">四次挥手/四次分手</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP-滑动窗口（避免拥塞的发生）"><span class="nav-number">3.</span> <span class="nav-text">TCP 滑动窗口（避免拥塞的发生）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP-拥塞控制"><span class="nav-number">4.</span> <span class="nav-text">TCP 拥塞控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-主要通过四个算法（机制）来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。"><span class="nav-number">4.0.1.</span> <span class="nav-text">TCP 主要通过四个算法（机制）来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1、慢开始与拥塞避免"><span class="nav-number">4.0.1.1.</span> <span class="nav-text">1、慢开始与拥塞避免</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2、快重传与快恢复"><span class="nav-number">4.0.1.2.</span> <span class="nav-text">2、快重传与快恢复</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#TCP-和-UDP-的不同"><span class="nav-number">5.</span> <span class="nav-text">TCP 和 UDP 的不同</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP对应的协议"><span class="nav-number">5.1.</span> <span class="nav-text">TCP对应的协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UDP对应的协议"><span class="nav-number">5.2.</span> <span class="nav-text">UDP对应的协议</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTP"><span class="nav-number">6.</span> <span class="nav-text">HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是HTTP？"><span class="nav-number">6.1.</span> <span class="nav-text">什么是HTTP？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP格式"><span class="nav-number">6.2.</span> <span class="nav-text">HTTP格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GET方法和POST方法区别"><span class="nav-number">6.3.</span> <span class="nav-text">GET方法和POST方法区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP状态码"><span class="nav-number">6.4.</span> <span class="nav-text">HTTP状态码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1XX-信息"><span class="nav-number">6.4.1.</span> <span class="nav-text">1XX 信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2XX-成功"><span class="nav-number">6.4.2.</span> <span class="nav-text">2XX 成功</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3XX重定向"><span class="nav-number">6.4.3.</span> <span class="nav-text">3XX重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4XXX客户端错误"><span class="nav-number">6.4.4.</span> <span class="nav-text">4XXX客户端错误</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5XX服务器错误"><span class="nav-number">6.4.5.</span> <span class="nav-text">5XX服务器错误</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Cookie"><span class="nav-number">6.5.</span> <span class="nav-text">Cookie</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session"><span class="nav-number">6.6.</span> <span class="nav-text">Session</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP缓存"><span class="nav-number">6.7.</span> <span class="nav-text">HTTP缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存过程"><span class="nav-number">6.7.1.</span> <span class="nav-text">缓存过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#优点"><span class="nav-number">6.7.2.</span> <span class="nav-text">优点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Cache-Control"><span class="nav-number">6.7.3.</span> <span class="nav-text">Cache-Control</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存指令"><span class="nav-number">6.7.4.</span> <span class="nav-text">缓存指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存过期机制"><span class="nav-number">6.7.5.</span> <span class="nav-text">缓存过期机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存验证"><span class="nav-number">6.7.6.</span> <span class="nav-text">缓存验证</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTPS"><span class="nav-number">7.</span> <span class="nav-text">HTTPS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#加密"><span class="nav-number">7.1.</span> <span class="nav-text">加密</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#加密方法"><span class="nav-number">7.2.</span> <span class="nav-text">加密方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTPs采用的加密方式"><span class="nav-number">7.3.</span> <span class="nav-text">HTTPs采用的加密方式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#当你输入域名访问一个网站的时候，背后的过程"><span class="nav-number">8.</span> <span class="nav-text">当你输入域名访问一个网站的时候，背后的过程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#准备阶段"><span class="nav-number">8.1.</span> <span class="nav-text">准备阶段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WEB服务器"><span class="nav-number">8.2.</span> <span class="nav-text">WEB服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#应用服务器"><span class="nav-number">8.3.</span> <span class="nav-text">应用服务器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#归途"><span class="nav-number">8.4.</span> <span class="nav-text">归途</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#浏览器再次工作"><span class="nav-number">8.5.</span> <span class="nav-text">浏览器再次工作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#什么是Socket？"><span class="nav-number">9.</span> <span class="nav-text">什么是Socket？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#什么是IO，什么是NIO，什么是AIO，什么是netty框架？"><span class="nav-number">10.</span> <span class="nav-text">什么是IO，什么是NIO，什么是AIO，什么是netty框架？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#IO-（BIO）"><span class="nav-number">10.1.</span> <span class="nav-text">IO （BIO）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NIO-（new-IO）"><span class="nav-number">10.2.</span> <span class="nav-text">NIO （new IO）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Selector："><span class="nav-number">10.2.1.</span> <span class="nav-text">Selector：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Buffer："><span class="nav-number">10.2.2.</span> <span class="nav-text">Buffer：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AIO"><span class="nav-number">10.3.</span> <span class="nav-text">AIO</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Netty"><span class="nav-number">10.4.</span> <span class="nav-text">Netty</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Caiiiiii</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" data-id="ck1vqxyb700062othat85gphi" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-数据库系统原理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/" class="article-date">
  <time datetime="2019-10-18T03:14:42.536Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/">数据库系统原理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Abc, A" />










<meta property="og:type" content="article">
<meta property="og:title" content="数据库系统原理">
<meta property="og:url" content="http://yoursite.com/2018/12/12/数据库系统原理/index.html">
<meta property="og:site_name" content="Caiiiiii&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy499njbjmj20we0s242h.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1ycm1w4uj20cg0c53yu.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fy1zoti5r0j20mj0cgq3p.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy232x0mktj20cf0fqmxd.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy2346jszlj20dr0fwaac.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy2354hxemj20eb0ga74k.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy238mmb0lj20db0fp3yq.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy23dped3nj20na07fq6u.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy32pu9mbqj20c009mmyh.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fy37ue2btlj205m058mx0.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fy49lx01emj20cc05574a.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49n6653sj20d40az0tc.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fy49lx01emj20cc05574a.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49s0oawnj208n04nq2t.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49t93ibfj206605l745.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49w8pqbhj206j04kglg.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49wuquwqj204m03f0sj.jpg">
<meta property="og:updated_time" content="2018-12-12T15:48:26.716Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据库系统原理">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy499njbjmj20we0s242h.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"Left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/12/12/数据库系统原理/"/>





  <title>数据库系统原理 | Caiiiiii's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-Left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Caiiiiii's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">来局昆特牌吗？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/12/数据库系统原理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Caiiiiii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/bz.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Caiiiiii's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">数据库系统原理</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-12T23:48:26+08:00">
                2018-12-12
              </time>
              </span>
              
  <span class="post-updated">
    &nbsp; | &nbsp; 更新于
    <time itemprop="dateUpdated" datetime="2018-12-12T23:48:26+08:00" content="2018-12-12">
      2018-12-12
    </time>
  </span>

            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据库/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy499njbjmj20we0s242h.jpg" alt=""><br><a id="more"></a></p>
<h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p><strong>事务其实就是并发控制的基本单位</strong>，事务指的是满足 ACID 特性的一组操作，可以通过 Commit 提交一个事务，也可以使用 Rollback 进行回滚。</p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1ycm1w4uj20cg0c53yu.jpg" alt=""></p>
<h2 id="ACID"><a href="#ACID" class="headerlink" title="ACID"></a>ACID</h2><h3 id="1-原子性（Atomicity）"><a href="#1-原子性（Atomicity）" class="headerlink" title="1.原子性（Atomicity）"></a>1.原子性（Atomicity）</h3><p><strong>事务被视为不可分割的最小单元</strong>，事务的所有操作要么全部提交成功，要么全部失败回滚。<br>回滚可以用回滚日志来实现，回滚日志记录着事务所执行的修改操作，在回滚时反向执行这些修改操作即可。</p>
<h3 id="2-一致性（Consistency）"><a href="#2-一致性（Consistency）" class="headerlink" title="2.一致性（Consistency）"></a>2.一致性（Consistency）</h3><p>数据库在事务执行前后都保持一致性状态。在一致性状态下，所有事务对一个数据的读取结果都是相同的。例如，在事务开始时，数据库的所有数据都满足已设置的<strong>各种约束条件和业务规则</strong>，在事务结束时，数据虽然不同，必须仍满足先前设置的各种约束条件和业务规则，事务把数据库从一个一致性状态带入另一个一致性状态。</p>
<h3 id="3-隔离性（Isolation）"><a href="#3-隔离性（Isolation）" class="headerlink" title="3.隔离性（Isolation）"></a>3.隔离性（Isolation）</h3><p>一个事务所做的修改在最终提交以前，对其它事务是不可见的。这表明事务必须是独立的，它不应以任何方式依赖于或影响其他事务。</p>
<h3 id="4-持久性（Durability）"><a href="#4-持久性（Durability）" class="headerlink" title="4.持久性（Durability）"></a>4.持久性（Durability）</h3><p>一旦事务提交，则其所做的修改将会永远保存到数据库中。即使系统发生崩溃，事务执行的结果也不能丢失。<br>使用重做日志来保证持久性。</p>
<blockquote>
<p>事务的 ACID 特性概念简单，但不是很好理解，主要是因为这几个特性不是一种平级关系：</p>
<blockquote>
<p>1.只有满足一致性，事务的执行结果才是正确的。<br>2.在无并发的情况下，事务串行执行，隔离性一定能够满足。此时只要能满足原子性，就一定能满足一致性。<br>3.在并发的情况下，多个事务并行执行，事务不仅要满足原子性，还需要满足隔离性，才能满足一致性。<br>4.事务满足持久化是为了能应对数据库崩溃的情况。</p>
</blockquote>
</blockquote>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6ly1fy1zoti5r0j20mj0cgq3p.jpg" alt=""></p>
<h2 id="AUTOCOMMIT"><a href="#AUTOCOMMIT" class="headerlink" title="AUTOCOMMIT"></a>AUTOCOMMIT</h2><p>MySQL 默认采用自动提交模式。也就是说，如果不显式使用START TRANSACTION语句来开始一个事务，那么每个查询都会被当做一个事务自动提交。</p>
<h1 id="并发一致性问题"><a href="#并发一致性问题" class="headerlink" title="并发一致性问题"></a>并发一致性问题</h1><p>在并发环境下，事务的隔离性很难保证，因此会出现很多并发一致性问题。</p>
<h2 id="丢失修改"><a href="#丢失修改" class="headerlink" title="丢失修改"></a>丢失修改</h2><p>T1 和 T2 两个事务都对一个数据进行修改，T1 先修改，T2 随后修改，T2 的修改覆盖了 T1 的修改。<br>  &nbsp;   &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  <img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy232x0mktj20cf0fqmxd.jpg" alt=""></p>
<h2 id="读脏数据（脏读）"><a href="#读脏数据（脏读）" class="headerlink" title="读脏数据（脏读）"></a>读脏数据（脏读）</h2><p>T1 修改一个数据，T2 随后读取这个数据。如果 T1 撤销了这次修改，那么 T2 读取的数据是脏数据。<br>  &nbsp;   &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  <img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy2346jszlj20dr0fwaac.jpg" alt=""></p>
<h2 id="不可重复读（数据中途修改）"><a href="#不可重复读（数据中途修改）" class="headerlink" title="不可重复读（数据中途修改）"></a>不可重复读（数据中途修改）</h2><p>T2 读取一个数据，T1 对该数据做了修改。如果T2再次读取这个数据，此时读取的结果和第一次读取的结果不同。<br>  &nbsp;   &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;<img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy2354hxemj20eb0ga74k.jpg" alt=""></p>
<h2 id="幻想读（中途插入数据）"><a href="#幻想读（中途插入数据）" class="headerlink" title="幻想读（中途插入数据）"></a>幻想读（中途插入数据）</h2><p>T1 读取某个范围的数据，T2 在这个范围内插入新的数据，T1 再次读取这个范围的数据，此时读取的结果和和第一次读取的结果不同。<br>  &nbsp;   &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp;  &nbsp; <img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy238mmb0lj20db0fp3yq.jpg" alt=""></p>
<h1 id="隔离级别"><a href="#隔离级别" class="headerlink" title="隔离级别"></a>隔离级别</h1><h2 id="MYSQL隔离级别"><a href="#MYSQL隔离级别" class="headerlink" title="MYSQL隔离级别"></a>MYSQL隔离级别</h2><p><strong>MySQL默认的事务处理级别是’REPEATABLE-READ’,也就是可重复读</strong></p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy23dped3nj20na07fq6u.jpg" alt=""></p>
<h2 id="Oracle隔离级别"><a href="#Oracle隔离级别" class="headerlink" title="Oracle隔离级别"></a>Oracle隔离级别</h2><p>oracle数据库支持READ COMMITTED 和 SERIALIZABLE这两种事务隔离级别。<br>默认系统事务隔离级别是READ COMMITTED,也就是读已提交</p>
<h1 id="封锁"><a href="#封锁" class="headerlink" title="封锁"></a>封锁</h1><h2 id="封锁粒度"><a href="#封锁粒度" class="headerlink" title="封锁粒度"></a>封锁粒度</h2><p>MySQL提供了两种封锁粒度：行级锁以及表级锁。</p>
<p>应该尽量只锁定需要修改的那部分数据，而不是所有的资源。锁定的数据量越少，发生锁争用的可能就越小，系统的并发程度就越高。</p>
<p>但是加锁需要消耗资源，锁的各种操作（包括获取锁、释放锁、以及检查锁状态）都会增加系统开销。因此封锁粒度越小，系统开销就越大。</p>
<p>在选择封锁粒度时，需要在锁开销和并发程度之间做一个权衡。<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy32pu9mbqj20c009mmyh.jpg" alt=""></p>
<h2 id="封锁类型"><a href="#封锁类型" class="headerlink" title="封锁类型"></a>封锁类型</h2><h3 id="1-读写锁"><a href="#1-读写锁" class="headerlink" title="1.读写锁"></a>1.读写锁</h3><ul>
<li>排他锁，简写为X锁，又称写锁。</li>
<li>共享锁，简写为S锁，又称读锁。</li>
</ul>
<p>有以下两个规定：</p>
<ul>
<li>一个事务对数据对象 A 加了 X 锁，就可以对 A 进行读取和更新。加锁期间其它事务不能对 A 加任何锁。</li>
<li>一个事务对数据对象 A 加了 S 锁，可以对 A 进行读取操作，但是不能进行更新操作。加锁期间其它事务能对 A 加 S 锁，但是不能加 X 锁。</li>
</ul>
<h3 id="2-意向锁（Intention-Locks）"><a href="#2-意向锁（Intention-Locks）" class="headerlink" title="2.意向锁（Intention Locks）"></a>2.意向锁（Intention Locks）</h3><p>使用意向锁可以更容易地支持多粒度封锁。</p>
<p>在存在行级锁和表级锁的情况下，事务 T 想要对表 A 加 X 锁，就需要先检测是否有其它事务对表 A 或者表 A 中的任意一行加了锁，那么就需要对表 A 的每一行都检测一次，这是非常耗时的。</p>
<p>意向锁在原来的 X/S 锁之上引入了 IX/IS，IX/IS 都是表锁，用来表示一个事务想要在表中的某个数据行上加 X 锁或 S 锁。有以下两个规定：</p>
<ul>
<li>一个事务在获得某个数据行对象的 S 锁之前，必须先获得表的 IS 锁或者更强的锁；</li>
<li>一个事务在获得某个数据行对象的 X 锁之前，必须先获得表的 IX 锁。</li>
</ul>
<p>通过引入意向锁，事务 T 想要对表 A 加 X 锁，只需要先检测是否有其它事务对表 A 加了 X/IX/S/IS 锁，如果加了就表示有其它事务正在使用这个表或者表中某一行的锁，因此事务 T 加 X 锁失败。</p>
<p>各种锁的兼容关系如下：<br><img src="http://ww1.sinaimg.cn/large/bfd348c6ly1fy37ue2btlj205m058mx0.jpg" alt=""></p>
<p>解释如下：</p>
<ul>
<li>任意 IS/IX 锁之间都是兼容的，因为它们只是表示想要对表加锁，而不是真正加锁；</li>
<li>S 锁只与 S 锁和 IS 锁兼容，也就是说事务 T 想要对数据行加 S 锁，其它事务可以已经获得对表或者表中的行的 S 锁。</li>
</ul>
<h1 id="多版本并发控制-MVCC"><a href="#多版本并发控制-MVCC" class="headerlink" title="多版本并发控制(MVCC)"></a>多版本并发控制(MVCC)</h1><p>多版本并发控制（Multi-Version Concurrency Control, MVCC）是 MySQL 的 InnoDB 存储引擎实现隔离级别的一种具体方式，用于实现提交读和可重复读这两种隔离级别。而未提交读隔离级别总是读取最新的数据行，无需使用 MVCC。可串行化隔离级别需要对所有读取的行都加锁，单纯使用 MVCC 无法实现。</p>
<h1 id="关系数据库设计理论"><a href="#关系数据库设计理论" class="headerlink" title="关系数据库设计理论"></a>关系数据库设计理论</h1><h2 id="函数依赖"><a href="#函数依赖" class="headerlink" title="函数依赖"></a>函数依赖</h2><p>记 A-&gt;B 表示 A 函数决定 B，也可以说 B 函数依赖于 A。</p>
<p>如果 {A1，A2，… ，An} 是关系的一个或多个属性的集合，该集合函数决定了关系的其它所有属性并且是最小的，那么该集合就称为键码。</p>
<p>对于 A-&gt;B，如果能找到 A 的真子集 A’，使得 A’-&gt; B，那么 A-&gt;B 就是部分函数依赖，否则就是完全函数依赖。</p>
<p>对于 A-&gt;B，B-&gt;C，则 A-&gt;C 是一个传递函数依赖。</p>
<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><p>以下的学生课程关系的函数依赖为 Sno, Cname -&gt; Sname, Sdept, Mname, Grade，键码为 {Sno, Cname}。也就是说，确定学生和课程之后，就能确定其它信息。</p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6ly1fy49lx01emj20cc05574a.jpg" alt=""></p>
<p>不符合范式的关系，会产生很多异常，主要有以下四种异常：</p>
<ul>
<li>冗余数据：例如 学生-2 出现了两次。</li>
<li>修改异常：修改了一个记录中的信息，但是另一个记录中相同的信息却没有被修改。</li>
<li>删除异常：删除一个信息，那么也会丢失其它信息。例如删除了 课程-1 需要删除第一行和第三行，那么 学生-1 的信息就会丢失。</li>
<li>插入异常：例如想要插入一个学生的信息，如果这个学生还没选课，那么就无法插入。</li>
</ul>
<h1 id="范式"><a href="#范式" class="headerlink" title="范式"></a>范式</h1><p>范式理论是为了解决以上提到四种异常。</p>
<p>高级别范式的依赖于低级别的范式，1NF 是最低级别的范式。<br>  <img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49n6653sj20d40az0tc.jpg" alt=""></p>
<h2 id="1-第一范式（1NF）"><a href="#1-第一范式（1NF）" class="headerlink" title="1.第一范式（1NF）"></a>1.第一范式（1NF）</h2><p>属性不可分</p>
<h2 id="2-第二范式（2NF）"><a href="#2-第二范式（2NF）" class="headerlink" title="2.第二范式（2NF）"></a>2.第二范式（2NF）</h2><p>每个非主属性完全函数依赖于键码。</p>
<p>可以通过分解来满足。</p>
<p><strong>分解前：</strong><br><img src="http://ww1.sinaimg.cn/large/bfd348c6ly1fy49lx01emj20cc05574a.jpg" alt=""></p>
<p>以上学生课程关系中，{Sno, Cname} 为键码，有如下函数依赖：</p>
<ul>
<li>Sno -&gt; Sname, Sdept</li>
<li>Sdept -&gt; Mname</li>
<li>Sno, Cname-&gt; Grade</li>
</ul>
<p>Grade 完全函数依赖于键码，它没有任何冗余数据，每个学生的每门课都有特定的成绩。</p>
<p>Sname, Sdept 和 Mname 都部分依赖于键码，当一个学生选修了多门课时，这些数据就会出现多次，造成大量冗余数据。</p>
<p><strong>分解后：</strong></p>
<p>关系-1<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49s0oawnj208n04nq2t.jpg" alt=""></p>
<p>有以下函数依赖：</p>
<ul>
<li>Sno -&gt; Sname,Sdept</li>
<li>Sdept -&gt; Mname</li>
</ul>
<p>关系-2<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49t93ibfj206605l745.jpg" alt=""></p>
<p>有以下函数依赖：</p>
<ul>
<li>Sno, Cname -&gt; Grade</li>
</ul>
<h2 id="3-第三范式（3NF）"><a href="#3-第三范式（3NF）" class="headerlink" title="3.第三范式（3NF）"></a>3.第三范式（3NF）</h2><p>非主属性不传递函数依赖于键码。</p>
<p>上面的 关系-1 中存在以下传递函数依赖：</p>
<ul>
<li>Sno -&gt; Sdept -&gt; Mname</li>
</ul>
<p>可以进行以下分解：<br>关系-11<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49w8pqbhj206j04kglg.jpg" alt=""><br>关系-12<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy49wuquwqj204m03f0sj.jpg" alt=""></p>
<h1 id="ER图"><a href="#ER图" class="headerlink" title="ER图"></a>ER图</h1><p>Entity-Relationship，有三个组成部分：实体、属性、联系。</p>
<p>用来进行关系型数据库系统的概念设计。</p>
<h2 id="ER图关系"><a href="#ER图关系" class="headerlink" title="ER图关系"></a>ER图关系</h2><p>1对1（1:1）：1对1关系是指对于实体集A与实体集B，A中的每一个实体至多与B中一个实体有关系；反之，在实体集B中的每个实体至多与实体集A中一个实体有关系。</p>
<p>1对多（1:N） ：1对多关系是指实体集A与实体集B中至少有N(N&gt;0)个实体有关系；并且实体集B中每一个实体至多与实体集A中一个实体有关系。</p>
<p>多对多（M:N） ：多对多关系是指实体集A中的每一个实体与实体集B中至少有M(M&gt;0)个实体有关系，并且实体集B中的每一个实体与实体集A中的至少N（N&gt;0）个实体有关系。</p>
<h2 id="ER实体"><a href="#ER实体" class="headerlink" title="ER实体"></a>ER实体</h2><p><strong>弱实体</strong>：一个实体必须依赖于另一个实体存在，那么前者是弱实体，后者是强实体，弱实体必须依赖强实体。</p>
<p>弱实体和强实体的联系必然只有1：N或者1：1，这是由于弱实体完全依赖于强实体，强实体不存在，那么弱实体就不存在，所以弱实体是完全参与联系的，因此弱实体与联系之间的联系也是用的双线菱形。</p>
<p><strong>复合实体</strong>：复合实体也称联合实体或桥接实体，常常用于实现两个或多个实体间的M：N联系，它由每个关联实体的主玛组成，用长方体内加一个菱形来表示。</p>
<h2 id="ER属性"><a href="#ER属性" class="headerlink" title="ER属性"></a>ER属性</h2><p><strong>复合属性(composite attribute)</strong>：复合属性是指具有多个属性的组合，例如名字属性，它可以包含姓氏属性和名字属性。</p>
<p><strong>多值属性（multivalued attribute）</strong>：一个实体的某个属性可以有多个不同的取值，例如一本书的分类属性，这本书有多个分类，例如科学、医学等，这个分类就是多值属性， 用双线椭圆表示。</p>
<p><strong>派生属性(derivers attribute)</strong>：是非永久性存于数据库的属性。派生属性的值可以从别的属性值或其他数据（如当前日期）派生出来，用虚线椭圆表示</p>
<p><strong>可选属性(optional attribute)</strong>：并不是所有的属性都必须有值，有些属性的可以没有值，这就是可选属性，在椭圆的文字后用（O）来表示</p>
<p><strong>联系属性</strong>：联系属于用户表示多个实体之间联系所具有的属性，一般来讲M:N的两个实体的联系具有联系属性，在1:1和1：M的实体联系中联系属性并不必要。</p>
<h1 id="乐观锁和悲观锁"><a href="#乐观锁和悲观锁" class="headerlink" title="乐观锁和悲观锁"></a>乐观锁和悲观锁</h1><h2 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h2><p><strong>悲观锁</strong>：总是假设最坏的情况，每次去拿数据的时候都认为别人会修改，所以每次在拿数据的时候都会上锁，这样别人想拿这个数据就会阻塞直到它拿到锁。传统的关系型数据库里边就用到了很多这种锁机制，比如行锁，表锁等，读锁，写锁等，都是在做操作之前先上锁。再比如Java里面的同步原语synchronized关键字的实现也是悲观锁。<br><strong>乐观锁</strong>：顾名思义，就是很乐观，每次去拿数据的时候都认为别人不会修改，所以不会上锁，但是在更新的时候会判断一下在此期间别人有没有去更新这个数据，可以使用版本号等机制。乐观锁适用于多读的应用类型，这样可以提高吞吐量，像数据库提供的类似于write_condition机制，其实都是提供的乐观锁。在Java中java.util.concurrent.atomic包下面的原子变量类就是使用了乐观锁的一种实现方式CAS实现的。</p>
<h2 id="悲观锁的缺陷"><a href="#悲观锁的缺陷" class="headerlink" title="悲观锁的缺陷"></a>悲观锁的缺陷</h2><ul>
<li>在多线程程竞争下，加锁、释放锁会导致比较多的上下文切换和调度延时，引起性能问题。</li>
<li>一个线程持有锁会导致其它所有需要此锁的线程挂起。</li>
<li>如果一个优先级高的线程等待一个优先级低的线程释放锁会导致优先级倒置，引起性能风险。</li>
</ul>
<h2 id="CAS"><a href="#CAS" class="headerlink" title="CAS"></a>CAS</h2><p><strong>冲突检测和数据更新</strong><br><strong>乐观锁是一种思想。CAS是这种思想的一种实现方式。</strong><br>CAS是乐观锁技术，当多个线程尝试使用CAS同时更新同一个变量时，只有其中一个线程能更新变量的值，而其它线程都失败，失败的线程并不会被挂起，而是被告知这次竞争中失败，并可以再次尝试。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/09/计算机网络/" rel="next" title="计算机网络常考面试题">
                <i class="fa fa-chevron-left"></i> 计算机网络常考面试题
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/16/MYSQL详解/" rel="prev" title="MYSQL详解">
                MYSQL详解 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/bz.gif"
                alt="Caiiiiii" />
            
              <p class="site-author-name" itemprop="name">Caiiiiii</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Caiiiiii" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:995017591@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/cai-yuan-qin/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://steamcommunity.com/id/995017591" target="_blank" title="Steam">
                      
                        <i class="fa fa-fw fa-globe"></i>Steam</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#事务"><span class="nav-number">1.</span> <span class="nav-text">事务</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概念"><span class="nav-number">1.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ACID"><span class="nav-number">1.2.</span> <span class="nav-text">ACID</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-原子性（Atomicity）"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.原子性（Atomicity）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-一致性（Consistency）"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.一致性（Consistency）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-隔离性（Isolation）"><span class="nav-number">1.2.3.</span> <span class="nav-text">3.隔离性（Isolation）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-持久性（Durability）"><span class="nav-number">1.2.4.</span> <span class="nav-text">4.持久性（Durability）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AUTOCOMMIT"><span class="nav-number">1.3.</span> <span class="nav-text">AUTOCOMMIT</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#并发一致性问题"><span class="nav-number">2.</span> <span class="nav-text">并发一致性问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#丢失修改"><span class="nav-number">2.1.</span> <span class="nav-text">丢失修改</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#读脏数据（脏读）"><span class="nav-number">2.2.</span> <span class="nav-text">读脏数据（脏读）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#不可重复读（数据中途修改）"><span class="nav-number">2.3.</span> <span class="nav-text">不可重复读（数据中途修改）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#幻想读（中途插入数据）"><span class="nav-number">2.4.</span> <span class="nav-text">幻想读（中途插入数据）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#隔离级别"><span class="nav-number">3.</span> <span class="nav-text">隔离级别</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#MYSQL隔离级别"><span class="nav-number">3.1.</span> <span class="nav-text">MYSQL隔离级别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Oracle隔离级别"><span class="nav-number">3.2.</span> <span class="nav-text">Oracle隔离级别</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#封锁"><span class="nav-number">4.</span> <span class="nav-text">封锁</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#封锁粒度"><span class="nav-number">4.1.</span> <span class="nav-text">封锁粒度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#封锁类型"><span class="nav-number">4.2.</span> <span class="nav-text">封锁类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-读写锁"><span class="nav-number">4.2.1.</span> <span class="nav-text">1.读写锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-意向锁（Intention-Locks）"><span class="nav-number">4.2.2.</span> <span class="nav-text">2.意向锁（Intention Locks）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#多版本并发控制-MVCC"><span class="nav-number">5.</span> <span class="nav-text">多版本并发控制(MVCC)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#关系数据库设计理论"><span class="nav-number">6.</span> <span class="nav-text">关系数据库设计理论</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#函数依赖"><span class="nav-number">6.1.</span> <span class="nav-text">函数依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#异常"><span class="nav-number">6.2.</span> <span class="nav-text">异常</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#范式"><span class="nav-number">7.</span> <span class="nav-text">范式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-第一范式（1NF）"><span class="nav-number">7.1.</span> <span class="nav-text">1.第一范式（1NF）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-第二范式（2NF）"><span class="nav-number">7.2.</span> <span class="nav-text">2.第二范式（2NF）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-第三范式（3NF）"><span class="nav-number">7.3.</span> <span class="nav-text">3.第三范式（3NF）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ER图"><span class="nav-number">8.</span> <span class="nav-text">ER图</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ER图关系"><span class="nav-number">8.1.</span> <span class="nav-text">ER图关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ER实体"><span class="nav-number">8.2.</span> <span class="nav-text">ER实体</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ER属性"><span class="nav-number">8.3.</span> <span class="nav-text">ER属性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#乐观锁和悲观锁"><span class="nav-number">9.</span> <span class="nav-text">乐观锁和悲观锁</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概念-1"><span class="nav-number">9.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#悲观锁的缺陷"><span class="nav-number">9.2.</span> <span class="nav-text">悲观锁的缺陷</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CAS"><span class="nav-number">9.3.</span> <span class="nav-text">CAS</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Caiiiiii</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/" data-id="ck1vqy82000082oth0m790a9e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MYSQL详解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/MYSQL%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2019-10-18T03:14:42.536Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/MYSQL%E8%AF%A6%E8%A7%A3/">MYSQL详解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Abc, A" />










<meta property="og:type" content="article">
<meta property="og:title" content="MYSQL详解">
<meta property="og:url" content="http://yoursite.com/2018/12/16/MYSQL详解/index.html">
<meta property="og:site_name" content="Caiiiiii&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy8wo6e1hgj20xc0mkgvf.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6ly1fy7kmfmfjgj20cq037glr.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy7ul8hri5j20rs08n3yr.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy7um31dprj20sj06v74m.jpg">
<meta property="og:updated_time" content="2018-12-16T13:27:04.576Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MYSQL详解">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy8wo6e1hgj20xc0mkgvf.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"Left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/12/16/MYSQL详解/"/>





  <title>MYSQL详解 | Caiiiiii's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-Left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Caiiiiii's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">来局昆特牌吗？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/16/MYSQL详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Caiiiiii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/bz.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Caiiiiii's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">MYSQL详解</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-16T00:34:47+08:00">
                2018-12-16
              </time>
              </span>
              
  <span class="post-updated">
    &nbsp; | &nbsp; 更新于
    <time itemprop="dateUpdated" datetime="2018-12-16T21:27:04+08:00" content="2018-12-16">
      2018-12-16
    </time>
  </span>

            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据库/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy8wo6e1hgj20xc0mkgvf.jpg" alt=""><br><a id="more"></a></p>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>用来加快查询的技术很多，其中最重要的是索引。通常索引能够快速提高查询速度。</p>
<h2 id="索引的本质"><a href="#索引的本质" class="headerlink" title="索引的本质"></a>索引的本质</h2><p>MySQL官方对索引的定义为：索引（Index）是帮助MySQL高效获取数据的数据结构。提取句子主干，就可以得到索引的本质：索引是数据结构。</p>
<h2 id="索引的类型"><a href="#索引的类型" class="headerlink" title="索引的类型"></a>索引的类型</h2><p>索引是在MYSQL的存储引擎层中实现的，而不是在服务层实现的。所以不同存储引擎具有不同的索引类型和实现。</p>
<ul>
<li>B-Tree 索引：最常见的索引类型，大部分引擎都支持B树索引。</li>
<li>HASH 索引：只有Memory引擎支持，使用场景简单。</li>
<li>R-Tree 索引(空间索引)：空间索引是MyISAM的一种特殊索引类型，主要用于地理空间数据类型。</li>
<li>Full-text (全文索引)：全文索引也是MyISAM的一种特殊索引类型，主要用于全文索引，InnoDB从MYSQL5.6版本提供对全文索引的支持。</li>
</ul>
<p><strong>MyISAM、InnoDB引擎、Memory三个常用引擎类型比较</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">索引</th>
<th style="text-align:center">MyISAM引擎</th>
<th style="text-align:center">InnoDB引擎</th>
<th style="text-align:center">Memory引擎</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">B-Tree索引</td>
<td style="text-align:center">支持</td>
<td style="text-align:center">支持</td>
<td style="text-align:center">支持</td>
</tr>
<tr>
<td style="text-align:center">HASH索引</td>
<td style="text-align:center">不支持</td>
<td style="text-align:center">不支持</td>
<td style="text-align:center">支持</td>
</tr>
<tr>
<td style="text-align:center">R-Tree索引</td>
<td style="text-align:center">支持</td>
<td style="text-align:center">不支持</td>
<td style="text-align:center">不支持</td>
</tr>
<tr>
<td style="text-align:center">Full-text索引</td>
<td style="text-align:center">不支持</td>
<td style="text-align:center">暂不支持</td>
<td style="text-align:center">不支持</td>
</tr>
</tbody>
</table>
<h2 id="索引种类"><a href="#索引种类" class="headerlink" title="索引种类"></a>索引种类</h2><ul>
<li><p>普通索引<br>这是最基本的索引类型，而且它没有唯一性之类的限制。普通索引可以通过以下几种方式创建：</p>
<p>&nbsp;&nbsp;(1)创建索引：CREATE INDEX 索引名 ON 表名(列名1，列名2,…);<br>（2）修改表: ALTER TABLE 表名ADD INDEX 索引名 (列名1，列名2,…);<br>（3）创建表时指定索引：CREATE TABLE 表名 ( […], INDEX 索引名 (列名1，列名 2,…) );</p>
</li>
<li><p>UNIQUE索引<br>表示唯一的，不允许重复的索引，如果该字段信息保证不会重复例如身份证号用作索引时，可设置为unique：<br>（1）创建索引：CREATE UNIQUE INDEX 索引名 ON 表名(列的列表);<br>（2）修改表：ALTER TABLE 表名ADD UNIQUE 索引名 (列的列表);<br>（3）创建表时指定索引：CREATE TABLE 表名( […], UNIQUE 索引名 (列的列表) );</p>
</li>
<li><p>主键：PRIMARY KEY索引<br>主键是一种唯一性索引，但它必须指定为“PRIMARY KEY”。<br>（1）主键一般在创建表的时候指定：“CREATE TABLE 表名( […], PRIMARY KEY (列的列表) ); ”。<br>（2）但是，我们也可以通过修改表的方式加入主键：“ALTER TABLE 表名ADD PRIMARY KEY (列的列表); ”。<br>每个表只能有一个主键。 （主键相当于聚合索引，是查找最快的索引）</p>
</li>
</ul>
<p><strong>注：不能用CREATE INDEX语句创建PRIMARY KEY索引</strong></p>
<h2 id="索引的设置语法"><a href="#索引的设置语法" class="headerlink" title="索引的设置语法"></a>索引的设置语法</h2><h3 id="1、设置索引"><a href="#1、设置索引" class="headerlink" title="1、设置索引"></a>1、设置索引</h3><p>在执行CREATE TABLE语句时可以创建索引，也可以单独用CREATE INDEX或ALTER TABLE来为表增加索引。</p>
<p>1.<strong>ALTER TABLE</strong> - ALTER TABLE用来创建<strong>普通索引、UNIQUE索引</strong>或<strong>PRIMARY KEY索引</strong>。</p>
<ul>
<li>ALTER TABLE table_name ADD <strong>INDEX</strong> index_name (column_list)</li>
<li>ALTER TABLE table_name ADD <strong>UNIQUE</strong> (column_list)</li>
<li>ALTER TABLE table_name ADD <strong>PRIMARY KEY</strong> (column_list)</li>
</ul>
<p>2.<strong>CREATE INDEX</strong> - CREATE INDEX可对表增加普通索引或UNIQUE索引。</p>
<ul>
<li>CREATE <strong>INDEX</strong> index_name ON table_name (column_list)</li>
<li>CREATE <strong>UNIQUE</strong> INDEX index_name ON table_name (column_list)</li>
</ul>
<h3 id="2-删除索引"><a href="#2-删除索引" class="headerlink" title="2.删除索引"></a>2.删除索引</h3><p>可利用ALTER TABLE或DROP INDEX语句来删除索引。类似于CREATE INDEX语句，DROP INDEX可以在ALTER TABLE内部作为一条语句处理，语法如下。</p>
<ul>
<li>DROP <strong>INDEX</strong> index_name ON talbe_name</li>
<li>ALTER TABLE table_name DROP <strong>INDEX</strong> index_name</li>
<li>ALTER TABLE table_name DROP <strong>PRIMARY KEY</strong></li>
</ul>
<p>其中，前两条语句是等价的，删除掉table_name中的索引index_name。<br>第3条语句只在删除PRIMARY KEY索引时使用，因为一个表只可能有一个PRIMARY KEY索引，因此不需要指定索引名。如果没有创建PRIMARY KEY索引，但表具有一个或多个UNIQUE索引，则MySQL将删除第一个UNIQUE索引。</p>
<blockquote>
<p>如果从表中删除了某列，则索引会受到影响。对于多列组合的索引，如果删除其中的某列，则该列也会从索引中删除。如果删除组成索引的所有列，则整个索引将被删除。</p>
</blockquote>
<h3 id="3-查看索引"><a href="#3-查看索引" class="headerlink" title="3.查看索引"></a>3.查看索引</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show index from tblname;</span><br><span class="line">mysql&gt; show keys from tblname;</span><br></pre></td></tr></table></figure>
<ul>
<li>Table:表的名称</li>
<li>Non_unique：如果索引不能包括重复词，则为0。如果可以，则为1</li>
<li>Key_name：索引的名称</li>
<li>Seq_in_index：索引中的列序列号，从1开始</li>
<li>Column_name：列名称</li>
<li>Collation：列以什么方式存储在索引中。在MySQL中，有值‘A’（升序）或NULL（无分类）。</li>
<li>Cardinality：索引中唯一值的数目的估计值。通过运行ANALYZE TABLE或myisamchk -a可以更新。基数根据被存储为整数的统计数据来计数，所以即使对于小型表，该值也没有必要是精确的。基数越大，当进行联合时，MySQL使用该索引的机会就越大。</li>
<li>Sub_part：如果列只是被部分地编入索引，则为被编入索引的字符的数目。如果整列被编入索引，则为NULL。</li>
<li>Packed：指示关键字如何被压缩。如果没有被压缩，则为NULL。</li>
<li>Null：如果列含有NULL，则含有YES。如果没有，则该列含有NO。</li>
<li>Index_type：用过的索引方法（BTREE, FULLTEXT, HASH, RTREE）。</li>
<li>Comment：更多评注。</li>
</ul>
<h1 id="B-Tree"><a href="#B-Tree" class="headerlink" title="B-Tree"></a>B-Tree</h1><h2 id="B-tree结构"><a href="#B-tree结构" class="headerlink" title="B-tree结构"></a>B-tree结构</h2><p>为了描述B-Tree，首先定义一条数据记录为一个<strong>二元组[key, data]</strong>，key为记录的键值，对于不同数据记录，key是互不相同的；data为数据记录除key外的数据。那么B-Tree是满足下列条件的数据结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">d&gt;=2，即B-Tree的度；</span><br><span class="line"></span><br><span class="line">h为B-Tree的高；</span><br><span class="line"></span><br><span class="line">每个非叶子结点由n-1个key和n个指针组成，其中d&lt;=n&lt;=2d；</span><br><span class="line"></span><br><span class="line">每个叶子结点至少包含一个key和两个指针，最多包含2d-1个key和2d个指针，叶结点的指针均为NULL；</span><br><span class="line"></span><br><span class="line">所有叶结点都在同一层，深度等于树高h；</span><br><span class="line"></span><br><span class="line">key和指针相互间隔，结点两端是指针；</span><br><span class="line"></span><br><span class="line">一个结点中的key从左至右非递减排列；</span><br><span class="line"></span><br><span class="line">如果某个指针在结点node最左边且不为null，则其指向结点的所有key小于v(key1)，其中v(key1)为node的第一个key的值。</span><br><span class="line"></span><br><span class="line">如果某个指针在结点node最右边且不为null，则其指向结点的所有key大于v(keym)，其中v(keym)为node的最后一个key的值。</span><br><span class="line"></span><br><span class="line">如果某个指针在结点node的左右相邻key分别是keyi和keyi+1且不为null，则其指向结点的所有key小于v(keyi+1)且大于v(keyi)。</span><br></pre></td></tr></table></figure>
<p>下图是一个d=2的B-Tree示意图。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src="http://ww1.sinaimg.cn/large/bfd348c6ly1fy7kmfmfjgj20cq037glr.jpg" alt=""></p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy7ul8hri5j20rs08n3yr.jpg" alt=""></p>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><p>进行查找操作时，首先在根节点进行二分查找，找到一个 key 所在的指针，然后递归地在指针所指向的节点进行查找。直到查找到叶子节点，然后在叶子节点上进行二分查找，找出 key 所对应的 data。</p>
<p>插入删除操作会破坏平衡树的平衡性，因此在插入删除操作之后，需要对树进行一个分裂、合并、旋转等操作来维护平衡性。</p>
<h1 id="B-Tree-1"><a href="#B-Tree-1" class="headerlink" title="B+Tree"></a>B+Tree</h1><h2 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h2><p>B-Tree有许多变种，其中最常见的是B+Tree，例如MySQL就普遍使用B+Tree实现其索引结构。</p>
<p>与B-Tree相比，B+Tree有以下不同点：</p>
<blockquote>
<p>每个结点的指针上限为2d而不是2d+1。<strong>(对此有疑惑)</strong><br>内结点不存储data，只存储key；叶子结点不存储指针。</p>
</blockquote>
<p>图3是一个简单的B+Tree示意。<br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy7um31dprj20sj06v74m.jpg" alt=""></p>
<h2 id="为啥用B-Tree"><a href="#为啥用B-Tree" class="headerlink" title="为啥用B+Tree"></a>为啥用B+Tree</h2><p>典型的B-tree节点，其中最大的问题在于，如果data所占空间太大，那么我们不得不选择一个较小的B值，而B值过小又无法保证合理的树高。更加麻烦的是，在实现B-tree时，我们往往并不知道data有多大。考虑到上述这些困境，B+tree应运而生。下图展示了典型的B+tree节点，其中最大的变化在于，内部节点不再保存数据，因此每个内部节点得到了更多的空间来存储key值，进一步发挥了B-tree的优势。同时外部节点的实现也有了更多的想象空间，它可以是硬盘中的一页数据，也可以是网络中的某台计算机。如果是用来实现数据库索引，通常还会在外部节点之间添加指向下一节点的指针，这样可以更好的支持范围查询操作。</p>
<h1 id="哈希索引"><a href="#哈希索引" class="headerlink" title="哈希索引"></a>哈希索引</h1><p>哈希索引能以 O(1) 时间进行查找，但是失去了有序性：</p>
<ul>
<li>无法用于排序与分组；</li>
<li>只支持精确查找，无法用于部分查找和范围查找。</li>
</ul>
<p>InnoDB 存储引擎有一个特殊的功能叫“自适应哈希索引”，当某个索引值被使用的非常频繁时，会在 B+Tree 索引之上再创建一个哈希索引，这样就让 B+Tree 索引具有哈希索引的一些优点，比如快速的哈希查找。</p>
<h1 id="全文索引"><a href="#全文索引" class="headerlink" title="全文索引"></a>全文索引</h1><p>MyISAM 存储引擎支持全文索引，用于查找文本中的关键词，而不是直接比较是否相等。</p>
<p>查找条件使用 MATCH AGAINST，而不是普通的 WHERE。</p>
<p>全文索引使用倒排索引实现，它记录着关键词到其所在文档的映射。</p>
<p>InnoDB 存储引擎在 MySQL 5.6.4 版本中也开始支持全文索引。</p>
<h1 id="空间数据索引"><a href="#空间数据索引" class="headerlink" title="空间数据索引"></a>空间数据索引</h1><p>MyISAM 存储引擎支持空间数据索引（R-Tree），可以用于地理数据存储。空间数据索引会从所有维度来索引数据，可以有效地使用任意维度来进行组合查询。</p>
<p>必须使用 GIS 相关的函数来维护数据。</p>
<h1 id="索引的优化（MYSQL对千万级大表该怎么优化？）"><a href="#索引的优化（MYSQL对千万级大表该怎么优化？）" class="headerlink" title="索引的优化（MYSQL对千万级大表该怎么优化？）"></a>索引的优化（MYSQL对千万级大表该怎么优化？）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://www.zhihu.com/question/19719997</span><br><span class="line">https://github.com/CyC2018/CS-Notes/blob/master/notes/MySQL.md</span><br></pre></td></tr></table></figure>
<h2 id="1、优化你的SQL语句和索引"><a href="#1、优化你的SQL语句和索引" class="headerlink" title="1、优化你的SQL语句和索引"></a>1、优化你的SQL语句和索引</h2><h2 id="2、加缓存。memcached，redis；"><a href="#2、加缓存。memcached，redis；" class="headerlink" title="2、加缓存。memcached，redis；"></a>2、加缓存。memcached，redis；</h2><p>关于 memcached 和 redis<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/xifeijian/article/details/21994941</span><br><span class="line"></span><br><span class="line">http://wiki.jikexueyuan.com/project/redis/preliminary-redis.html</span><br></pre></td></tr></table></figure></p>
<h2 id="3、主从复制或主主复制，读写分离，可以在应用层做，效率高"><a href="#3、主从复制或主主复制，读写分离，可以在应用层做，效率高" class="headerlink" title="3、主从复制或主主复制，读写分离，可以在应用层做，效率高"></a>3、主从复制或主主复制，读写分离，可以在应用层做，效率高</h2><p>关于主从复制和主主复制<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://blog.51cto.com/ximenfeibing/1665272</span><br></pre></td></tr></table></figure></p>
<h2 id="4、进行MYSQL表分区。"><a href="#4、进行MYSQL表分区。" class="headerlink" title="4、进行MYSQL表分区。"></a>4、进行MYSQL表分区。</h2><p>mysql自带分区表，先试试这个，对你的应用是透明的，无需更改代码,但是sql语句是需要针对分区表做优化的，sql条件中要带上分区条件的列，从而使查询定位到少量的分区上</p>
<h2 id="5、垂直拆分"><a href="#5、垂直拆分" class="headerlink" title="5、垂直拆分"></a>5、垂直拆分</h2><h2 id="6、水平切分"><a href="#6、水平切分" class="headerlink" title="6、水平切分"></a>6、水平切分</h2><h1 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h1><h2 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h2><p>是 MySQL 默认的事务型存储引擎，只有在需要它不支持的特性时，才考虑使用其它存储引擎。</p>
<p>实现了四个标准的隔离级别，默认级别是可重复读（REPEATABLE READ）。在可重复读隔离级别下，通过多版本并发控制（MVCC）+ 间隙锁（Next-Key Locking）防止幻影读。</p>
<p>主索引是聚簇索引，在索引中保存了数据，从而避免直接读取磁盘，因此对查询性能有很大的提升。</p>
<p>内部做了很多优化，包括从磁盘读取数据时采用的可预测性读、能够加快读操作并且自动创建的自适应哈希索引、能够加速插入操作的插入缓冲区等。</p>
<p>支持真正的在线热备份。其它存储引擎不支持在线热备份，要获取一致性视图需要停止对所有表的写入，而在读写混合场景中，停止写入可能也意味着停止读取。</p>
<h2 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h2><p>设计简单，数据以紧密格式存储。对于只读数据，或者表比较小、可以容忍修复操作，则依然可以使用它。</p>
<p>提供了大量的特性，包括压缩表、空间数据索引等。</p>
<p>不支持事务。</p>
<p>不支持行级锁，只能对整张表加锁，读取时会对需要读到的所有表加共享锁，写入时则对表加排它锁。但在表有读取操作的同时，也可以往表中插入新的记录，这被称为并发插入（CONCURRENT INSERT）。</p>
<p>可以手工或者自动执行检查和修复操作，但是和事务恢复以及崩溃恢复不同，可能导致一些数据丢失，而且修复操作是非常慢的。</p>
<p>如果指定了 DELAY_KEY_WRITE 选项，在每次修改执行完成时，不会立即将修改的索引数据写入磁盘，而是会写到内存中的键缓冲区，只有在清理键缓冲区或者关闭表的时候才会将对应的索引块写入磁盘。这种方式可以极大的提升写入性能，但是在数据库或者主机崩溃时会造成索引损坏，需要执行修复操作。</p>
<h2 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h2><ul>
<li><p>事务：InnoDB 是事务型的，可以使用 Commit 和 Rollback 语句。</p>
</li>
<li><p>并发：MyISAM 只支持表级锁，而 InnoDB 还支持行级锁。</p>
</li>
<li><p>外键：InnoDB 支持外键。</p>
</li>
<li><p>备份：InnoDB 支持在线热备份。</p>
</li>
<li><p>崩溃恢复：MyISAM 崩溃后发生损坏的概率比 InnoDB 高很多，而且恢复的速度也更慢。</p>
</li>
<li><p>其它特性：MyISAM 支持压缩表和空间数据索引。</p>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/12/数据库系统原理/" rel="next" title="数据库系统原理">
                <i class="fa fa-chevron-left"></i> 数据库系统原理
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/21/操作系统基础/" rel="prev" title="操作系统基础">
                操作系统基础 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/bz.gif"
                alt="Caiiiiii" />
            
              <p class="site-author-name" itemprop="name">Caiiiiii</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Caiiiiii" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:995017591@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/cai-yuan-qin/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://steamcommunity.com/id/995017591" target="_blank" title="Steam">
                      
                        <i class="fa fa-fw fa-globe"></i>Steam</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#索引"><span class="nav-number">1.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概念"><span class="nav-number">1.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#索引的本质"><span class="nav-number">1.2.</span> <span class="nav-text">索引的本质</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#索引的类型"><span class="nav-number">1.3.</span> <span class="nav-text">索引的类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#索引种类"><span class="nav-number">1.4.</span> <span class="nav-text">索引种类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#索引的设置语法"><span class="nav-number">1.5.</span> <span class="nav-text">索引的设置语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1、设置索引"><span class="nav-number">1.5.1.</span> <span class="nav-text">1、设置索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-删除索引"><span class="nav-number">1.5.2.</span> <span class="nav-text">2.删除索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-查看索引"><span class="nav-number">1.5.3.</span> <span class="nav-text">3.查看索引</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#B-Tree"><span class="nav-number">2.</span> <span class="nav-text">B-Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#B-tree结构"><span class="nav-number">2.1.</span> <span class="nav-text">B-tree结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#操作"><span class="nav-number">2.2.</span> <span class="nav-text">操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#B-Tree-1"><span class="nav-number">3.</span> <span class="nav-text">B+Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概念-1"><span class="nav-number">3.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为啥用B-Tree"><span class="nav-number">3.2.</span> <span class="nav-text">为啥用B+Tree</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#哈希索引"><span class="nav-number">4.</span> <span class="nav-text">哈希索引</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#全文索引"><span class="nav-number">5.</span> <span class="nav-text">全文索引</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#空间数据索引"><span class="nav-number">6.</span> <span class="nav-text">空间数据索引</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#索引的优化（MYSQL对千万级大表该怎么优化？）"><span class="nav-number">7.</span> <span class="nav-text">索引的优化（MYSQL对千万级大表该怎么优化？）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、优化你的SQL语句和索引"><span class="nav-number">7.1.</span> <span class="nav-text">1、优化你的SQL语句和索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、加缓存。memcached，redis；"><span class="nav-number">7.2.</span> <span class="nav-text">2、加缓存。memcached，redis；</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、主从复制或主主复制，读写分离，可以在应用层做，效率高"><span class="nav-number">7.3.</span> <span class="nav-text">3、主从复制或主主复制，读写分离，可以在应用层做，效率高</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、进行MYSQL表分区。"><span class="nav-number">7.4.</span> <span class="nav-text">4、进行MYSQL表分区。</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5、垂直拆分"><span class="nav-number">7.5.</span> <span class="nav-text">5、垂直拆分</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6、水平切分"><span class="nav-number">7.6.</span> <span class="nav-text">6、水平切分</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#存储引擎"><span class="nav-number">8.</span> <span class="nav-text">存储引擎</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#InnoDB"><span class="nav-number">8.1.</span> <span class="nav-text">InnoDB</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MyISAM"><span class="nav-number">8.2.</span> <span class="nav-text">MyISAM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#比较"><span class="nav-number">8.3.</span> <span class="nav-text">比较</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Caiiiiii</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/MYSQL%E8%AF%A6%E8%A7%A3/" data-id="ck1vqyhlq000a2othc8cb2sp1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-操作系统基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" class="article-date">
  <time datetime="2019-10-18T03:14:42.536Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/">操作系统基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Abc, A" />










<meta property="og:type" content="article">
<meta property="og:title" content="操作系统基础">
<meta property="og:url" content="http://yoursite.com/2018/12/21/操作系统基础/index.html">
<meta property="og:site_name" content="Caiiiiii&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fye8cb8asnj22fn0mutcw.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fyaqrohuoaj20qw0iw75g.jpg">
<meta property="og:updated_time" content="2018-12-21T03:59:01.035Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="操作系统基础">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fye8cb8asnj22fn0mutcw.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"Left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/12/21/操作系统基础/"/>





  <title>操作系统基础 | Caiiiiii's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-Left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Caiiiiii's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">来局昆特牌吗？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/操作系统基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Caiiiiii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/bz.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Caiiiiii's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">操作系统基础</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-21T11:51:32+08:00">
                2018-12-21
              </time>
              </span>
              
  <span class="post-updated">
    &nbsp; | &nbsp; 更新于
    <time itemprop="dateUpdated" datetime="2018-12-21T11:59:01+08:00" content="2018-12-21">
      2018-12-21
    </time>
  </span>

            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/操作系统/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fye8cb8asnj22fn0mutcw.jpg" alt=""></p>
<a id="more"></a>
<h1 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>进程：是并发执行的程序在执行过程中分配和管理资源的基本单位，是一个动态概念，竞争计算机系统资源的基本单位。</p>
<p>线程：是进程的一个执行单元，是进程内科调度实体。比进程更小的独立运行的基本单位。线程也被称为轻量级进程。</p>
<p><strong>一个程序至少一个进程，一个进程至少一个线程。</strong></p>
<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p>进程和线程的主要差别在于它们是不同的操作系统资源管理方式。进程有独立的地址空间，一个进程崩溃后，在保护模式下不会对其它进程产生影响，而线程只是一个进程中的不同执行路径。线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个线程死掉就等于整个进程死掉，所以多进程的程序要比多线程的程序健壮，但在进程切换时，耗费资源较大，效率要差一些。<br><strong>但对于一些要求同时进行并且又要共享某些变量的并发操作，只能用线程，不能用进程。</strong></p>
<h2 id="进程间通信的方式有什么？线程间通信的方式有什么？"><a href="#进程间通信的方式有什么？线程间通信的方式有什么？" class="headerlink" title="进程间通信的方式有什么？线程间通信的方式有什么？"></a>进程间通信的方式有什么？线程间通信的方式有什么？</h2><h3 id="进程间通信的方式"><a href="#进程间通信的方式" class="headerlink" title="进程间通信的方式"></a>进程间通信的方式</h3><ul>
<li><p>管道 ： 半双工通信方式，数据单向流动。只能在具有亲缘关系的进程间使用。进程的亲缘关系通常指父子进程关系。</p>
</li>
<li><p>有名管道 ： 有名管道也是半双工通信方式，但是它允许无亲缘关系进程间的通信。</p>
</li>
<li><p>信号量 ： 信号量是一个计数器，可以用来控制多个进程对共享资源的访问。它常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步手段。</p>
</li>
<li><p>消息队列 ： 消息队列是消息的链接表，它克服了上两种通信方式中信号量有限的缺点，具有写权限得进程可以按照一定得规则向消息队列中添加新信息；对消息队列有读权限得进程则可以从消息队列中读取信息。</p>
</li>
<li><p>信号 ： 信号是在软件层次上对中断机制的一种模拟，它是比较复杂的通信方式，用于通知进程有某事件发生，一个进程收到一个信号与处理器收到一个中断请求效果上可以说是一致的。</p>
</li>
<li><p>共享内存 ： 可以说这是最有用的进程间通信方式。它使得多个进程可以访问同一块内存空间，不同进程可以及时看到对方进程中对共享内存中数据得更新。这种方式需要依靠某种同步操作，如互斥锁和信号量等。</p>
</li>
<li><p>套接字（Socket）: 这是一种更为一般得进程间通信机制，它可用于网络中不同机器之间的进程间通信，应用非常广泛。</p>
</li>
</ul>
<h3 id="线程间通信的方式"><a href="#线程间通信的方式" class="headerlink" title="线程间通信的方式"></a>线程间通信的方式</h3><p>（共享变量？）</p>
<ul>
<li><p>同步 ： 多个线程通过synchronized关键词这种方式来实现线程间的通信。</p>
</li>
<li><p>while轮询 ：但是这种方式会浪费CPU资源</p>
</li>
<li><p>wait/notify机制 </p>
</li>
<li><p>管道通信 ： 主要实现两个线程之间的二进制数据的传输</p>
</li>
</ul>
<h2 id="进程同步问题"><a href="#进程同步问题" class="headerlink" title="进程同步问题"></a>进程同步问题</h2><h2 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h2><h3 id="互斥与同步："><a href="#互斥与同步：" class="headerlink" title="互斥与同步："></a>互斥与同步：</h3><ul>
<li>临界资源（临界区）：指一次只能允许一个进程使用的共享资源称为临界资源；</li>
<li>同步：指为完成某种任务而建立的两个和多个进程，这些进程在合作的过程中需要协调工作次序进行有序的访问而出现等待所产生的制约关系。</li>
<li>互斥：指两个或多个进程访问临界资源时只能一个进程访问，其他进程等待的一种相互制约的关系。</li>
</ul>
<h3 id="信号量与互斥量："><a href="#信号量与互斥量：" class="headerlink" title="信号量与互斥量："></a>信号量与互斥量：</h3><ul>
<li>信号量：本身是一个计数器，使用P，V两个操作来实现计数的减与加，当计数不大于0时，则进程进入睡眠状态，它用于为多个进程提供共享数据对象的访问。</li>
<li>信号量：本身是一个计数器，使用P，V两个操作来实现计数的减与加，当计数不大于0时，则进程进入睡眠状态，它用于为多个进程提供共享数据对象的访问。</li>
</ul>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><h3 id="Thread-sleep-和-Object-wait-Object-notify-方法区别"><a href="#Thread-sleep-和-Object-wait-Object-notify-方法区别" class="headerlink" title="Thread.sleep() 和 Object.wait() , Object.notify() 方法区别"></a>Thread.sleep() 和 Object.wait() , Object.notify() 方法区别</h3><ul>
<li>sleep()是Thread类的方法，而wait(),notify(),notifyAll()是Object类中定义的方法。都会影响线程的执行行为</li>
<li>Thread.sleep()不会导致锁行为的改变，如果当前线程是拥有锁的，那么Thread.sleep()不会让线程释放锁。如果能够帮助你的记忆的话，可以简单认为和锁相关方法都定义在Object类中，因此调用Thread.sleep()是不会影响锁的相关行为。</li>
<li>Thread.sleep和Object.wait都会暂停当前的线程，对于CPU资源来说，不管是哪种方式暂停的线程，都表示它暂时不在需要CPU的执行时间，OS会将执行时间分配给其他线程。区别是调用wait后，需要别的线程执行notify/notifyAll才能重新获得CPU执行时间。</li>
</ul>
<h3 id="线程状态图"><a href="#线程状态图" class="headerlink" title="线程状态图"></a>线程状态图</h3><p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fyaqrohuoaj20qw0iw75g.jpg" alt=""></p>
<h2 id="实现生产者消费者模型"><a href="#实现生产者消费者模型" class="headerlink" title="实现生产者消费者模型"></a>实现生产者消费者模型</h2><p>生产者和消费者在同一时间段内共用同一存储空间，生产者向空间里生产数据，而消费者取走数据。</p>
<p>在Java中有四种方法支持</p>
<ul>
<li>Object的wait()/notify()方法</li>
<li>Lock和Condition的await() / signal()方法 </li>
<li>BlockingQueue阻塞队列方法 </li>
<li>PipedInputStream / PipedOutputStream</li>
</ul>
<p>前三中是同步方法，最后一种是管道方法</p>
<h3 id="使用Object的wait-notify-方法"><a href="#使用Object的wait-notify-方法" class="headerlink" title="使用Object的wait()/notify()方法"></a>使用Object的wait()/notify()方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 生产者消费者模式：使用Object.wait() / notify()方法实现</span><br><span class="line"> */</span><br><span class="line">public class ProducerConsumer &#123;</span><br><span class="line">    private static final int CAPACITY = 5;</span><br><span class="line"></span><br><span class="line">    public static void main(String args[])&#123;</span><br><span class="line">        Queue&lt;Integer&gt; queue = new LinkedList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line">        Thread producer1 = new Producer(&quot;P-1&quot;, queue, CAPACITY);</span><br><span class="line">        Thread producer2 = new Producer(&quot;P-2&quot;, queue, CAPACITY);</span><br><span class="line">        Thread consumer1 = new Consumer(&quot;C1&quot;, queue, CAPACITY);</span><br><span class="line">        Thread consumer2 = new Consumer(&quot;C2&quot;, queue, CAPACITY);</span><br><span class="line">        Thread consumer3 = new Consumer(&quot;C3&quot;, queue, CAPACITY);</span><br><span class="line"></span><br><span class="line">        producer1.start();</span><br><span class="line">        producer2.start();</span><br><span class="line">        consumer1.start();</span><br><span class="line">        consumer2.start();</span><br><span class="line">        consumer3.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 生产者</span><br><span class="line">     */</span><br><span class="line">    public static class Producer extends Thread&#123;</span><br><span class="line">        private Queue&lt;Integer&gt; queue;</span><br><span class="line">        String name;</span><br><span class="line">        int maxSize;</span><br><span class="line">        int i = 0;</span><br><span class="line"></span><br><span class="line">        public Producer(String name, Queue&lt;Integer&gt; queue, int maxSize)&#123;</span><br><span class="line">            super(name);</span><br><span class="line">            this.name = name;</span><br><span class="line">            this.queue = queue;</span><br><span class="line">            this.maxSize = maxSize;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void run()&#123;</span><br><span class="line">            while(true)&#123;</span><br><span class="line">                synchronized(queue)&#123;</span><br><span class="line">                    while(queue.size() == maxSize)&#123;</span><br><span class="line">                        try &#123;</span><br><span class="line">                            System.out .println(&quot;Queue is full, Producer[&quot; + name + &quot;] thread waiting for &quot; + &quot;consumer to take something from queue.&quot;);</span><br><span class="line">                            queue.wait();</span><br><span class="line">                        &#125; catch (Exception ex) &#123;</span><br><span class="line">                            ex.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(&quot;[&quot; + name + &quot;] Producing value : +&quot; + i);</span><br><span class="line">                    queue.offer(i++);</span><br><span class="line">                    queue.notifyAll();</span><br><span class="line"></span><br><span class="line">                    try &#123;</span><br><span class="line">                        Thread.sleep(new Random().nextInt(1000));</span><br><span class="line">                    &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 消费者</span><br><span class="line">     */</span><br><span class="line">    public static class Consumer extends Thread&#123;</span><br><span class="line">        private Queue&lt;Integer&gt; queue;</span><br><span class="line">        String name;</span><br><span class="line">        int maxSize;</span><br><span class="line"></span><br><span class="line">        public Consumer(String name, Queue&lt;Integer&gt; queue, int maxSize)&#123;</span><br><span class="line">            super(name);</span><br><span class="line">            this.name = name;</span><br><span class="line">            this.queue = queue;</span><br><span class="line">            this.maxSize = maxSize;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @Override</span><br><span class="line">        public void run()&#123;</span><br><span class="line">            while(true)&#123;</span><br><span class="line">                synchronized(queue)&#123;</span><br><span class="line">                    while(queue.isEmpty())&#123;</span><br><span class="line">                        try &#123;</span><br><span class="line">                            System.out.println(&quot;Queue is empty, Consumer[&quot; + name + &quot;] thread is waiting for Producer&quot;);</span><br><span class="line">                            queue.wait();</span><br><span class="line">                        &#125; catch (Exception ex) &#123;</span><br><span class="line">                            ex.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    int x = queue.poll();</span><br><span class="line">                    System.out.println(&quot;[&quot; + name + &quot;] Consuming value : &quot; + x);</span><br><span class="line">                    queue.notifyAll();</span><br><span class="line"></span><br><span class="line">                    try &#123;</span><br><span class="line">                        Thread.sleep(new Random().nextInt(1000));</span><br><span class="line">                    &#125; catch (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>为了防止线程虚假唤醒，在判断Queue大小为0或者大于等于queueSize时需使用while而不能使用if（自旋锁）</strong></p>
<h2 id="读者-写者问题"><a href="#读者-写者问题" class="headerlink" title="读者-写者问题"></a>读者-写者问题</h2><h3 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h3><ul>
<li>允许多个读者同时执行读写操作</li>
<li>不允许读者，写者同时操作</li>
<li>不允许多个写者同时操作</li>
</ul>
<h3 id="读写锁"><a href="#读写锁" class="headerlink" title="读写锁"></a>读写锁</h3><p>ReentrantReadWriteLock会使用两把锁来解决问题，一个读锁，一个写锁。<br>线程进入读锁的前提条件：</p>
<ul>
<li>没有其他线程的写锁</li>
<li>没有写请求或者有写请求，但调用线程和持有锁的线程是同一个</li>
</ul>
<p>线程进入写锁的前提条件</p>
<ul>
<li>没有其他线程的读锁</li>
<li>没有其他线程的写锁</li>
</ul>
<p>特性：</p>
<ul>
<li>WriteLock可以降级为ReadLock，顺序是：先获得WriteLock再获得ReadLock，然后释放WriteLock，这时候线程将保持Readlock的持有。反过来ReadLock想要升级为WriteLock则不可能</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">rwl.readLock().lock();</span><br><span class="line">      if (!cacheValid) &#123;</span><br><span class="line">         // Must release read lock before acquiring write lock</span><br><span class="line">         rwl.readLock().unlock();</span><br><span class="line">         rwl.writeLock().lock();</span><br><span class="line">        </span><br><span class="line">         if (!cacheValid) &#123;</span><br><span class="line">           data = ...</span><br><span class="line">           cacheValid = true;</span><br><span class="line">         &#125;</span><br><span class="line">       </span><br><span class="line">         rwl.readLock().lock();</span><br><span class="line">         rwl.writeLock().unlock(); // 降级：先获取读锁再释放写锁</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<h3 id="读写锁实现读者写者问题"><a href="#读写锁实现读者写者问题" class="headerlink" title="读写锁实现读者写者问题"></a>读写锁实现读者写者问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">import java.util.Random;</span><br><span class="line">import java.util.concurrent.locks.ReentrantReadWriteLock;</span><br><span class="line"></span><br><span class="line">public class ReadWriteLockTest &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        final Queue3 q3 = new Queue3();</span><br><span class="line">        for (int i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">            new Thread() &#123;</span><br><span class="line">                public void run() &#123;</span><br><span class="line">                    while (true) &#123;</span><br><span class="line">                        q3.get();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;.start();</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i = 0; i &lt; 3; i++) &#123;</span><br><span class="line">            new Thread() &#123;</span><br><span class="line">                public void run() &#123;</span><br><span class="line">                    while (true) &#123;</span><br><span class="line">                        q3.put(new Random().nextInt(10000));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Queue3 &#123;</span><br><span class="line">    private Object data = null;// 共享数据，只能有一个线程能写该数据，但可以有多个线程同时读该数据。</span><br><span class="line">    private ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();</span><br><span class="line"></span><br><span class="line">    public void get() &#123;</span><br><span class="line">        rwl.readLock().lock();// 上读锁，其他线程只能读不能写</span><br><span class="line">        System.out.println(Thread.currentThread().getName()</span><br><span class="line">                + &quot; be ready to read data!&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            Thread.sleep((long) (Math.random() * 1000));</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName()</span><br><span class="line">                + &quot;have read data :&quot; + data);</span><br><span class="line">        rwl.readLock().unlock(); // 释放读锁，最好放在finnaly里面</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void put(Object data) &#123;</span><br><span class="line">        rwl.writeLock().lock();// 上写锁，不允许其他线程读也不允许写</span><br><span class="line">        System.out.println(Thread.currentThread().getName()</span><br><span class="line">                + &quot; be ready to write data!&quot;);</span><br><span class="line">        try &#123;</span><br><span class="line">            Thread.sleep((long) (Math.random() * 1000));</span><br><span class="line">        &#125; catch (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        this.data = data;</span><br><span class="line">        System.out.println(Thread.currentThread().getName()</span><br><span class="line">                + &quot; have write data: &quot; + data);</span><br><span class="line">        rwl.writeLock().unlock();// 释放写锁</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="哲学家问题"><a href="#哲学家问题" class="headerlink" title="哲学家问题"></a>哲学家问题</h3><p>暂不列举</p>
<h1 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h1><h2 id="必要条件"><a href="#必要条件" class="headerlink" title="必要条件"></a>必要条件</h2><ul>
<li>互斥： 每个资源要么已经分配给一个进程，要么就是可用的</li>
<li>占有和等待：已经得到某个资源的进程可以再请求新的资源</li>
<li>不可抢占：已经分配给一个进程的资源不能强制性地被抢占，它只能被占有它的进程显式地释放</li>
<li>环路等待：有两个或者两个以上的进程组成一条环路，该环路中的每个进程都在等待下一个进程所占用的资源</li>
</ul>
<h2 id="处理方法"><a href="#处理方法" class="headerlink" title="处理方法"></a>处理方法</h2><h3 id="鸵鸟策略"><a href="#鸵鸟策略" class="headerlink" title="鸵鸟策略"></a><strong>鸵鸟策略</strong></h3><p>把头埋在沙子里，假装根本没发生问题。</p>
<p>因为解决死锁问题的代价很高，因此鸵鸟策略这种不采取任务措施的方案会获得更高的性能。</p>
<p>当发生死锁时不会对用户造成多大影响，或发生死锁的概率很低，可以采用鸵鸟策略。</p>
<p>大多数操作系统，包括 Unix，Linux 和 Windows，处理死锁问题的办法仅仅是忽略它。</p>
<h3 id="死锁检测与死锁恢复"><a href="#死锁检测与死锁恢复" class="headerlink" title="死锁检测与死锁恢复"></a><strong>死锁检测与死锁恢复</strong></h3><p>不试图阻止死锁，而是当检测到死锁发生时，采取措施进行恢复。</p>
<ul>
<li>抢占恢复</li>
<li>回滚恢复</li>
<li>杀死进程恢复</li>
</ul>
<h3 id="死锁预防"><a href="#死锁预防" class="headerlink" title="死锁预防"></a><strong>死锁预防</strong></h3><ul>
<li><p>破坏互斥条件</p>
<blockquote>
<p>打印机进程</p>
</blockquote>
</li>
<li><p>破坏占有和等待条件</p>
<blockquote>
<p>规定所有进程在开始执行前请求所需要的全部资源</p>
</blockquote>
</li>
<li><p>破坏不可抢占条件</p>
</li>
<li><p>破坏环路等待</p>
</li>
</ul>
<h3 id="死锁避免"><a href="#死锁避免" class="headerlink" title="死锁避免"></a><strong>死锁避免</strong></h3><p>在程序运行时避免发生死锁。<br><strong>银行家算法</strong></p>
<h1 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h1><h2 id="什么是缓存？"><a href="#什么是缓存？" class="headerlink" title="什么是缓存？"></a>什么是缓存？</h2><p><strong>缓存就是数据交换的缓冲区</strong><br>是存放使用频繁的数据的临时地方。相对于取原始数据的速度快一些。</p>
<h2 id="缓存命中与缓存不命中"><a href="#缓存命中与缓存不命中" class="headerlink" title="缓存命中与缓存不命中"></a>缓存命中与缓存不命中</h2><p>数据是缓存好了，但是不一定缓存的数据就是需要的数据。</p>
<p>所以取数据时也分缓存命中和缓存不命中。</p>
<h3 id="缓存命中"><a href="#缓存命中" class="headerlink" title="缓存命中"></a>缓存命中</h3><p>意思就是第k+1层需要的数据就是第k层缓存好的，直接读取就行了。</p>
<h3 id="缓存不命中"><a href="#缓存不命中" class="headerlink" title="缓存不命中"></a>缓存不命中</h3><p>意思就是第k+1层需要的数据在第k层中没有。发生缓存不命中之后，会把该数据缓存在第k层中，如果当前有空余的空间还好，可以直接缓存，但是如果没有空间就会导致替换的发生，意思就是覆盖第k层中的某一个块，当然，这个不是随便替换的，也会使用适用于<strong>当前情况的替换策略</strong>，可以随机替换、也可以根据在某个时间段内引用次数最少的块来替换、还有替换掉最长时间没有使用的块。</p>
<h2 id="缓存方法"><a href="#缓存方法" class="headerlink" title="缓存方法"></a>缓存方法</h2><ul>
<li>Least Frequently Used（LFU 最近不经常使用）：计算每个缓存对象被使用的频率，把不常用的缓存对象踢走。</li>
<li>Least Recently User（LRU 最近最少使用）：把数据加入一个链表中，按访问时间排序，发生淘汰的时候，把访问时间最旧的淘汰掉。</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/16/MYSQL详解/" rel="next" title="MYSQL详解">
                <i class="fa fa-chevron-left"></i> MYSQL详解
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/12/26/Linux/" rel="prev" title="Linux">
                Linux <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/bz.gif"
                alt="Caiiiiii" />
            
              <p class="site-author-name" itemprop="name">Caiiiiii</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Caiiiiii" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:995017591@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/cai-yuan-qin/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://steamcommunity.com/id/995017591" target="_blank" title="Steam">
                      
                        <i class="fa fa-fw fa-globe"></i>Steam</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#进程和线程"><span class="nav-number">1.</span> <span class="nav-text">进程和线程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概念"><span class="nav-number">1.1.</span> <span class="nav-text">概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#区别"><span class="nav-number">1.2.</span> <span class="nav-text">区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进程间通信的方式有什么？线程间通信的方式有什么？"><span class="nav-number">1.3.</span> <span class="nav-text">进程间通信的方式有什么？线程间通信的方式有什么？</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#进程间通信的方式"><span class="nav-number">1.3.1.</span> <span class="nav-text">进程间通信的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线程间通信的方式"><span class="nav-number">1.3.2.</span> <span class="nav-text">线程间通信的方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#进程同步问题"><span class="nav-number">1.4.</span> <span class="nav-text">进程同步问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#概念-1"><span class="nav-number">1.5.</span> <span class="nav-text">概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#互斥与同步："><span class="nav-number">1.5.1.</span> <span class="nav-text">互斥与同步：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#信号量与互斥量："><span class="nav-number">1.5.2.</span> <span class="nav-text">信号量与互斥量：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.6.</span> <span class="nav-text">前言</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Thread-sleep-和-Object-wait-Object-notify-方法区别"><span class="nav-number">1.6.1.</span> <span class="nav-text">Thread.sleep() 和 Object.wait() , Object.notify() 方法区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#线程状态图"><span class="nav-number">1.6.2.</span> <span class="nav-text">线程状态图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现生产者消费者模型"><span class="nav-number">1.7.</span> <span class="nav-text">实现生产者消费者模型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用Object的wait-notify-方法"><span class="nav-number">1.7.1.</span> <span class="nav-text">使用Object的wait()/notify()方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#读者-写者问题"><span class="nav-number">1.8.</span> <span class="nav-text">读者-写者问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#要求"><span class="nav-number">1.8.1.</span> <span class="nav-text">要求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#读写锁"><span class="nav-number">1.8.2.</span> <span class="nav-text">读写锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#读写锁实现读者写者问题"><span class="nav-number">1.8.3.</span> <span class="nav-text">读写锁实现读者写者问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#哲学家问题"><span class="nav-number">1.8.4.</span> <span class="nav-text">哲学家问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#死锁"><span class="nav-number">2.</span> <span class="nav-text">死锁</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#必要条件"><span class="nav-number">2.1.</span> <span class="nav-text">必要条件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#处理方法"><span class="nav-number">2.2.</span> <span class="nav-text">处理方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#鸵鸟策略"><span class="nav-number">2.2.1.</span> <span class="nav-text">鸵鸟策略</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#死锁检测与死锁恢复"><span class="nav-number">2.2.2.</span> <span class="nav-text">死锁检测与死锁恢复</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#死锁预防"><span class="nav-number">2.2.3.</span> <span class="nav-text">死锁预防</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#死锁避免"><span class="nav-number">2.2.4.</span> <span class="nav-text">死锁避免</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#缓存"><span class="nav-number">3.</span> <span class="nav-text">缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是缓存？"><span class="nav-number">3.1.</span> <span class="nav-text">什么是缓存？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#缓存命中与缓存不命中"><span class="nav-number">3.2.</span> <span class="nav-text">缓存命中与缓存不命中</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存命中"><span class="nav-number">3.2.1.</span> <span class="nav-text">缓存命中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存不命中"><span class="nav-number">3.2.2.</span> <span class="nav-text">缓存不命中</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#缓存方法"><span class="nav-number">3.3.</span> <span class="nav-text">缓存方法</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Caiiiiii</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/" data-id="ck1vqysic000c2otheui4bzyc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-SQL语句" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/18/SQL%E8%AF%AD%E5%8F%A5/" class="article-date">
  <time datetime="2019-10-18T03:14:42.536Z" itemprop="datePublished">2019-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/10/18/SQL%E8%AF%AD%E5%8F%A5/">SQL语句</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Abc, A" />










<meta property="og:type" content="article">
<meta property="og:title" content="SQL语句">
<meta property="og:url" content="http://yoursite.com/2019/03/08/SQL语句/index.html">
<meta property="og:site_name" content="Caiiiiii&#39;s blog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1wc6zy5sj20sg0hptd7.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy0uoqvdjtj20go0d478k.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1rvrak3rj20if0dadh7.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1rw7vu54j20ih0l5di7.jpg">
<meta property="og:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1g0uqqpd352j20g502o3yd.jpg">
<meta property="og:updated_time" content="2019-03-07T17:29:40.712Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SQL语句">
<meta name="twitter:image" content="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1wc6zy5sj20sg0hptd7.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"Left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/03/08/SQL语句/"/>





  <title>SQL语句 | Caiiiiii's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-Left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Caiiiiii's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">来局昆特牌吗？</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/03/08/SQL语句/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Caiiiiii">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/bz.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Caiiiiii's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">SQL语句</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-08T01:29:26+08:00">
                2019-03-08
              </time>
              </span>
              
  <span class="post-updated">
    &nbsp; | &nbsp; 更新于
    <time itemprop="dateUpdated" datetime="2019-03-08T01:29:40+08:00" content="2019-03-08">
      2019-03-08
    </time>
  </span>

            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/数据库/" itemprop="url" rel="index">
                    <span itemprop="name">数据库</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1wc6zy5sj20sg0hptd7.jpg" alt=""><br><a id="more"></a></p>
<h1 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h1><h2 id="SQL-SELECT-语句"><a href="#SQL-SELECT-语句" class="headerlink" title="SQL SELECT 语句"></a>SQL SELECT 语句</h2><p>SELECT 语句用于从表中选取数据。</p>
<ul>
<li>SELECT 列名称 FROM 表名称</li>
<li>SELECT * FROM 表名称</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT LastName,FirstName FROM Persons</span><br></pre></td></tr></table></figure>
<h2 id="SQL-SELECT-DISTINCT-语句"><a href="#SQL-SELECT-DISTINCT-语句" class="headerlink" title="SQL SELECT DISTINCT 语句"></a>SQL SELECT DISTINCT 语句</h2><p>在表中，可能会包含重复值。这并不成问题，不过，有时您也许希望仅仅列出不同（distinct）的值。<br>关键词 DISTINCT 用于返回唯一不同的值。</p>
<ul>
<li>SELECT DISTINCT 列名称 FROM 表名称<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT Company FROM Orders</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="WHERE-语句"><a href="#WHERE-语句" class="headerlink" title="WHERE 语句"></a>WHERE 语句</h2><p>如需有条件地从表中选取数据，可将 WHERE 子句添加到 SELECT 语句。</p>
<ul>
<li>SELECT 列名称 FROM 表名称 WHERE 列 运算符 值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE City=&apos;Beijing&apos;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">操作符</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">=</td>
<td style="text-align:center">等于</td>
</tr>
<tr>
<td style="text-align:center">&lt;&gt;  /   !=</td>
<td style="text-align:center">不等于</td>
</tr>
<tr>
<td style="text-align:center">&gt;</td>
<td style="text-align:center">大于</td>
</tr>
<tr>
<td style="text-align:center">&lt;</td>
<td style="text-align:center">小于</td>
</tr>
<tr>
<td style="text-align:center">>=</td>
<td style="text-align:center">大于等于</td>
</tr>
<tr>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">小于等于</td>
</tr>
<tr>
<td style="text-align:center">BETWEEN</td>
<td style="text-align:center">在某个范围内</td>
</tr>
<tr>
<td style="text-align:center">LIKE</td>
<td style="text-align:center">搜索某种模式</td>
</tr>
</tbody>
</table>
<p><strong>如果条件值为文本值，则需要单引号。如果是数值，不要用引号</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE FirstName=&apos;Bush&apos;</span><br><span class="line"></span><br><span class="line">SELECT * FROM Persons WHERE Year&gt;1965</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-AND-amp-OR-语句"><a href="#SQL-AND-amp-OR-语句" class="headerlink" title="SQL AND &amp; OR 语句"></a>SQL AND &amp; OR 语句</h2><p>AND 和 OR 可在 WHERE 子语句中把两个或多个条件结合起来。<br>如果第一个条件和第二个条件都成立，则 AND 运算符显示一条记录。<br>如果第一个条件和第二个条件中只要有一个成立，则 OR 运算符显示一条记录。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE FirstName=&apos;Thomas&apos; AND LastName=&apos;Carter&apos;</span><br><span class="line"></span><br><span class="line">SELECT * FROM Persons WHERE firstname=&apos;Thomas&apos; OR lastname=&apos;Carter&apos;</span><br></pre></td></tr></table></figure>
<h2 id="SQL-ORDER-BY-语句"><a href="#SQL-ORDER-BY-语句" class="headerlink" title="SQL ORDER BY 语句"></a>SQL ORDER BY 语句</h2><p>ORDER BY 语句用于根据指定的列对结果集进行排序。<br>ORDER BY 语句默认按照升序对记录进行排序。<br>如果您希望按照降序对记录进行排序，可以使用 DESC 关键字。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT Company, OrderNumber FROM Orders ORDER BY Company //正字母顺序</span><br><span class="line"></span><br><span class="line">SELECT Company, OrderNumber FROM Orders ORDER BY Company DESC  //逆字母顺序</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-INSERT-INTO-语句"><a href="#SQL-INSERT-INTO-语句" class="headerlink" title="SQL INSERT INTO 语句"></a>SQL INSERT INTO 语句</h2><p>INSERT INTO 语句用于向表格中插入新的行。</p>
<ul>
<li>INSERT INTO 表名称 VALUES (值1, 值2,….)</li>
<li>INSERT INTO table_name (列1, 列2,…) VALUES (值1, 值2,….)       //指定值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO Persons VALUES (&apos;Gates&apos;, &apos;Bill&apos;, &apos;Xuanwumen 10&apos;, &apos;Beijing&apos;)</span><br></pre></td></tr></table></figure>
<h2 id="SQL-UPDATE-语句"><a href="#SQL-UPDATE-语句" class="headerlink" title="SQL UPDATE 语句"></a>SQL UPDATE 语句</h2><p>Update 语句用于修改表中的数据。</p>
<ul>
<li>UPDATE 表名称 SET 列名称 = 新值 WHERE 列名称 = 某值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE Person SET FirstName = &apos;Fred&apos; WHERE LastName = &apos;Wilson&apos;</span><br></pre></td></tr></table></figure>
<h2 id="SQL-DELETE-语句"><a href="#SQL-DELETE-语句" class="headerlink" title="SQL DELETE 语句"></a>SQL DELETE 语句</h2><p>DELETE 语句用于删除表中的行。</p>
<ul>
<li>DELETE FROM 表名称 WHERE 列名称 = 值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM Person WHERE LastName = &apos;Wilson&apos;</span><br></pre></td></tr></table></figure>
<h3 id="删除所有行"><a href="#删除所有行" class="headerlink" title="删除所有行"></a>删除所有行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name</span><br><span class="line"></span><br><span class="line">DELETE * FROM table_name</span><br></pre></td></tr></table></figure>
<h1 id="SQL-TOP-字句"><a href="#SQL-TOP-字句" class="headerlink" title="SQL TOP 字句"></a>SQL TOP 字句</h1><p>TOP 子句用于规定要返回的记录的数目。<br>对于拥有数千条记录的大型表来说，TOP 子句是非常有用的。<br><strong>并非所有的数据库系统都支持 TOP 子句。</strong></p>
<h3 id="MySQL-语法"><a href="#MySQL-语法" class="headerlink" title="MySQL 语法"></a>MySQL 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s) FROM table_name LIMIT number</span><br><span class="line"></span><br><span class="line">SELECT * FROM Persons LIMIT 5</span><br></pre></td></tr></table></figure>
<h3 id="Oracle-语法"><a href="#Oracle-语法" class="headerlink" title="Oracle 语法"></a>Oracle 语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s) FROM table_name WHERE ROWNUM &lt;= number</span><br><span class="line"></span><br><span class="line">SELECT * FROM Persons WHERE ROWNUM &lt;= 5</span><br></pre></td></tr></table></figure>
<h2 id="SQL-LIKE-操作符（模糊搜索）"><a href="#SQL-LIKE-操作符（模糊搜索）" class="headerlink" title="SQL LIKE 操作符（模糊搜索）"></a>SQL LIKE 操作符（模糊搜索）</h2><p>LIKE 操作符用于在 WHERE 子句中搜索列中的指定模式。</p>
<ul>
<li>SELECT column_name(s) FROM table_name WHERE column_name LIKE pattern</li>
</ul>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><p>现在，我们希望从上面的 “Persons” 表中选取居住在以 “N” 开始的城市里的人：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE City LIKE &apos;N%&apos;</span><br></pre></td></tr></table></figure></p>
<p>接下来，我们希望从 “Persons” 表中选取居住在以 “g” 结尾的城市里的人：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE City LIKE &apos;%g&apos;</span><br></pre></td></tr></table></figure></p>
<p>接下来，我们希望从 “Persons” 表中选取居住在包含 “lon” 的城市里的人：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE City LIKE &apos;%lon%&apos;</span><br></pre></td></tr></table></figure></p>
<p>通过使用 NOT 关键字，我们可以从 “Persons” 表中选取居住在不包含 “lon” 的城市里的人：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE City NOT LIKE &apos;%lon%&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-通配符"><a href="#SQL-通配符" class="headerlink" title="SQL 通配符"></a>SQL 通配符</h2><p>在搜索数据库中的数据时，SQL 通配符可以替代一个或多个字符。<br><strong>SQL 通配符必须与 LIKE 运算符一起使用。</strong><br>通配符|描述<br>:-:|:-:<br>%|替代一个或多个字符<br>_|仅替代一个字符<br>[charlist]|字符列中的任何单一字符<br>[^charlist] 或 [!charlist]|不在字符列中的任何单一字符</p>
<h3 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h3><ul>
<li><p>使用 % 通配符<br>现在，我们希望从上面的 “Persons” 表中选取居住在以 “Ne” 开始的城市里的人：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE City LIKE &apos;Ne%&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 _ 通配符<br>我们希望从 “Persons” 表中选取的这条记录的姓氏以 “C” 开头，然后是一个任意字符，然后是 “r”，然后是任意字符，然后是 “er”：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE LastName LIKE &apos;C_r_er&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 [charlist] 通配符<br>我们希望从上面的 “Persons” 表中选取居住的城市以 “A” 或 “L” 或 “N” 开头的人：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE City LIKE &apos;[ALN]%&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用 [!charlist] 通配符<br>我们希望从上面的 “Persons” 表中选取居住的城市不以 “A” 或 “L” 或 “N” 开头的人：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE City LIKE &apos;[!ALN]%&apos;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="SQL-IN-操作符"><a href="#SQL-IN-操作符" class="headerlink" title="SQL IN 操作符"></a>SQL IN 操作符</h2><p>IN 操作符允许我们在 WHERE 子句中规定多个值。</p>
<ul>
<li>SELECT column_name(s) FROM table_name WHERE column_name IN (value1,value2,…)</li>
</ul>
<p>我们希望从上表中选取姓氏为 Adams 和 Carter 的人：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE LastName IN (&apos;Adams&apos;,&apos;Carter&apos;)</span><br></pre></td></tr></table></figure></p>
<h2 id="BETWEEN-操作符"><a href="#BETWEEN-操作符" class="headerlink" title="BETWEEN 操作符"></a>BETWEEN 操作符</h2><p>操作符 BETWEEN … AND 会选取介于两个值之间的数据范围。这些值可以是数值、文本或者日期。<br><strong>请检查你的数据库是如何处理 BETWEEN….AND 操作符</strong></p>
<ul>
<li>SELECT column_name(s) FROM table_name WHERE column_name BETWEEN value1 AND value2</li>
</ul>
<p>如需以字母顺序显示介于 “Adams”（包括）和 “Carter”（不包括）之间的人，请使用下面的 SQL：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE LastName BETWEEN &apos;Adams&apos; AND &apos;Carter&apos;</span><br></pre></td></tr></table></figure></p>
<p>如需使用上面的例子显示范围之外的人，请使用 NOT 操作符：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM Persons WHERE LastName NOT BETWEEN &apos;Adams&apos; AND &apos;Carter&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-Alias（别名）"><a href="#SQL-Alias（别名）" class="headerlink" title="SQL Alias（别名）"></a>SQL Alias（别名）</h2><p>通过使用 SQL，可以为列名称和表名称指定别名（Alias）。</p>
<p>假设我们有两个表分别是：”Persons” 和 “Product_Orders”。我们分别为它们指定别名 “p” 和 “po”。<br>现在，我们希望列出 “John Adams” 的所有定单。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT po.OrderID, p.LastName, p.FirstName</span><br><span class="line">FROM Persons AS p, Product_Orders AS po</span><br><span class="line">WHERE p.LastName=&apos;Adams&apos; AND p.FirstName=&apos;John&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-JOIN"><a href="#SQL-JOIN" class="headerlink" title="SQL JOIN"></a>SQL JOIN</h2><p>SQL join 用于根据两个或多个表中的列之间的关系，从这些表中查询数据。</p>
<ul>
<li><p>普通 SQL 双表查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT Persons.LastName, Persons.FirstName, Orders.OrderNo</span><br><span class="line">FROM Persons, Orders</span><br><span class="line">WHERE Persons.Id_P = Orders.Id_P</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用SQL Join方法(内连接)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT Persons.LastName, Persons.FirstName, Orders.OrderNo</span><br><span class="line">FROM Persons</span><br><span class="line">INNER JOIN Orders</span><br><span class="line">ON Persons.Id_P = Orders.Id_P</span><br><span class="line">ORDER BY Persons.LastName</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="数据库左连接、右连接、内连接、全连接"><a href="#数据库左连接、右连接、内连接、全连接" class="headerlink" title="数据库左连接、右连接、内连接、全连接"></a>数据库左连接、右连接、内连接、全连接</h3><ul>
<li>INNER JOIN : 在表中存在至少一个匹配时，INNER JOIN 关键字返回行。</li>
<li>LEFT JOIN : LEFT JOIN 关键字会从左表 (table_name1) 那里返回所有的行，即使在右表 (table_name2) 中没有匹配的行。</li>
<li>RIGHT JOIN ：RIGHT JOIN 关键字会右表 (table_name2) 那里返回所有的行，即使在左表 (table_name1) 中没有匹配的行。</li>
<li>FULL JOIN ：只要其中某个表存在匹配，FULL JOIN 关键字就会返回行。</li>
</ul>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy0uoqvdjtj20go0d478k.jpg" alt=""></p>
<h2 id="SQL-UNION-和-UNION-ALL-操作符（少用）"><a href="#SQL-UNION-和-UNION-ALL-操作符（少用）" class="headerlink" title="SQL UNION 和 UNION ALL 操作符（少用）"></a>SQL UNION 和 UNION ALL 操作符（少用）</h2><p>UNION 操作符用于合并两个或多个 SELECT 语句的结果集。<br><strong>UNION 内部的 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 SELECT 语句中的列的顺序必须相同。</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name(s) FROM table_name1</span><br><span class="line">UNION</span><br><span class="line">SELECT column_name(s) FROM table_name2</span><br><span class="line"></span><br><span class="line">SELECT column_name(s) FROM table_name1</span><br><span class="line">UNION ALL</span><br><span class="line">SELECT column_name(s) FROM table_name2</span><br></pre></td></tr></table></figure></p>
<h2 id="SELECT-INTO-语句"><a href="#SELECT-INTO-语句" class="headerlink" title="SELECT INTO 语句"></a>SELECT INTO 语句</h2><p>SELECT INTO 语句从一个表中选取数据，然后把数据插入另一个表中。<br>SELECT INTO 语句常用于创建表的备份复件或者用于对记录进行存档。</p>
<p>下面的例子会制作 “Persons” 表的备份复件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT *</span><br><span class="line">INTO Persons_backup</span><br><span class="line">FROM Persons</span><br></pre></td></tr></table></figure></p>
<h2 id="CREATE-DATABASE-语句"><a href="#CREATE-DATABASE-语句" class="headerlink" title="CREATE DATABASE 语句"></a>CREATE DATABASE 语句</h2><p>CREATE DATABASE 用于创建数据库。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE database_name</span><br></pre></td></tr></table></figure></p>
<h2 id="CREATE-TABLE-语句"><a href="#CREATE-TABLE-语句" class="headerlink" title="CREATE TABLE 语句"></a>CREATE TABLE 语句</h2><p>CREATE TABLE 语句用于创建数据库中的表。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE 表名称</span><br><span class="line">(</span><br><span class="line">列名称1 数据类型,</span><br><span class="line">列名称2 数据类型,</span><br><span class="line">列名称3 数据类型,</span><br><span class="line">....</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>本例演示如何创建名为 “Person” 的表。<br>该表包含 5 个列，列名分别是：”Id_P”、”LastName”、”FirstName”、”Address” 以及 “City”：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int,</span><br><span class="line">LastName varchar(255),</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-约束"><a href="#SQL-约束" class="headerlink" title="SQL 约束"></a>SQL 约束</h2><h3 id="SQL-NOT-NULL-约束"><a href="#SQL-NOT-NULL-约束" class="headerlink" title="SQL NOT NULL 约束"></a>SQL NOT NULL 约束</h3><p>NOT NULL 约束强制列不接受 NULL 值。<br>NOT NULL 约束强制字段始终包含值。这意味着，如果不向字段添加值，就无法插入新记录或者更新记录。</p>
<p>下面的 SQL 语句强制 “Id_P” 列和 “LastName” 列不接受 NULL 值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-UNIQUE-约束-字段值不能重复"><a href="#SQL-UNIQUE-约束-字段值不能重复" class="headerlink" title="SQL UNIQUE 约束(字段值不能重复)"></a>SQL UNIQUE 约束(字段值不能重复)</h3><p>UNIQUE 约束唯一标识数据库表中的每条记录。<br>UNIQUE 和 PRIMARY KEY 约束均为列或列集合提供了唯一性的保证。<br>PRIMARY KEY 拥有自动定义的 UNIQUE 约束。<br>请注意，每个表可以有多个 UNIQUE 约束，但是每个表只能有一个 PRIMARY KEY 约束。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">UNIQUE (Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="SQL-PRIMARY-KEY-约束-主键"><a href="#SQL-PRIMARY-KEY-约束-主键" class="headerlink" title="SQL PRIMARY KEY 约束(主键)"></a>SQL PRIMARY KEY 约束(主键)</h3><p>PRIMARY KEY 约束唯一标识数据库表中的每条记录。<br>主键必须包含唯一的值。<br>主键列不能包含 NULL 值。<br>每个表都应该有一个主键，并且每个表只能有一个主键。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">PRIMARY KEY (Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-FOREIGN-KEY-约束-外键"><a href="#SQL-FOREIGN-KEY-约束-外键" class="headerlink" title="SQL FOREIGN KEY 约束(外键)"></a>SQL FOREIGN KEY 约束(外键)</h3><p>一个表中的 FOREIGN KEY 指向另一个表中的 PRIMARY KEY。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Orders</span><br><span class="line">(</span><br><span class="line">Id_O int NOT NULL,</span><br><span class="line">OrderNo int NOT NULL,</span><br><span class="line">Id_P int,</span><br><span class="line">PRIMARY KEY (Id_O),</span><br><span class="line">FOREIGN KEY (Id_P) REFERENCES Persons(Id_P)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-CHECK-约束"><a href="#SQL-CHECK-约束" class="headerlink" title="SQL CHECK 约束"></a>SQL CHECK 约束</h3><p>CHECK 约束用于限制列中的值的范围。<br>如果对单个列定义 CHECK 约束，那么该列只允许特定的值。<br>如果对一个表定义 CHECK 约束，那么此约束会在特定的列中对值进行限制。(暂时不懂)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">CHECK (Id_P&gt;0)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h3 id="SQL-DEFAULT-约束"><a href="#SQL-DEFAULT-约束" class="headerlink" title="SQL DEFAULT 约束"></a>SQL DEFAULT 约束</h3><p>DEFAULT 约束用于向列中插入默认值。<br>如果没有规定其他的值，那么会将默认值添加到所有的新记录。</p>
<p>下面的 SQL 在 “Persons” 表创建时为 “City” 列创建 DEFAULT 约束：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">Id_P int NOT NULL,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255) DEFAULT &apos;Sandnes&apos;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-CREATE-INDEX-语句"><a href="#SQL-CREATE-INDEX-语句" class="headerlink" title="SQL CREATE INDEX 语句"></a>SQL CREATE INDEX 语句</h2><p>CREATE INDEX 语句用于在表中创建索引。<br>在不读取整个表的情况下，索引使数据库应用程序可以更快地查找数据。</p>
<p>本例会创建一个简单的索引，名为 “PersonIndex”，在 Person 表的 LastName 列：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE INDEX PersonIndex</span><br><span class="line">ON Person (LastName)</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-撤销索引、表以及数据库"><a href="#SQL-撤销索引、表以及数据库" class="headerlink" title="SQL 撤销索引、表以及数据库"></a>SQL 撤销索引、表以及数据库</h2><p>通过使用 DROP 语句，可以轻松地删除索引、表和数据库。</p>
<h3 id="SQL-DROP-INDEX-语句"><a href="#SQL-DROP-INDEX-语句" class="headerlink" title="SQL DROP INDEX 语句"></a>SQL DROP INDEX 语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name DROP INDEX index_name</span><br></pre></td></tr></table></figure>
<h3 id="SQL-DROP-TABLE-语句"><a href="#SQL-DROP-TABLE-语句" class="headerlink" title="SQL DROP TABLE 语句"></a>SQL DROP TABLE 语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE 表名称</span><br></pre></td></tr></table></figure>
<h3 id="SQL-DROP-DATABASE-语句"><a href="#SQL-DROP-DATABASE-语句" class="headerlink" title="SQL DROP DATABASE 语句"></a>SQL DROP DATABASE 语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE 数据库名称</span><br></pre></td></tr></table></figure>
<h3 id="SQL-TRUNCATE-TABLE-语句"><a href="#SQL-TRUNCATE-TABLE-语句" class="headerlink" title="SQL TRUNCATE TABLE 语句"></a>SQL TRUNCATE TABLE 语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TRUNCATE TABLE 表名称</span><br></pre></td></tr></table></figure>
<h2 id="SQL-ALTER-TABLE-语句"><a href="#SQL-ALTER-TABLE-语句" class="headerlink" title="SQL ALTER TABLE 语句"></a>SQL ALTER TABLE 语句</h2><p>ALTER TABLE 语句用于在已有的表中添加、修改或删除列。</p>
<ul>
<li><p>如需在表中添加列，请使用下列语法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line">ADD column_name datatype</span><br></pre></td></tr></table></figure>
</li>
<li><p>要删除表中的列，请使用下列语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name </span><br><span class="line">DROP COLUMN column_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>要改变表中列的数据类型，请使用下列语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name</span><br><span class="line">ALTER COLUMN column_name datatype</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="SQL-AUTO-INCREMENT-字段"><a href="#SQL-AUTO-INCREMENT-字段" class="headerlink" title="SQL AUTO INCREMENT 字段"></a>SQL AUTO INCREMENT 字段</h2><p>Auto-increment 会在新记录插入表中时生成一个唯一的数字。<br>我们通常希望在每次插入新记录时，自动地创建主键字段的值。<br>我们可以在表中创建一个 auto-increment 字段。</p>
<p>下列 SQL 语句把 “Persons” 表中的 “P_Id” 列定义为 auto-increment 主键：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE Persons</span><br><span class="line">(</span><br><span class="line">P_Id int NOT NULL AUTO_INCREMENT,</span><br><span class="line">LastName varchar(255) NOT NULL,</span><br><span class="line">FirstName varchar(255),</span><br><span class="line">Address varchar(255),</span><br><span class="line">City varchar(255),</span><br><span class="line">PRIMARY KEY (P_Id)</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h2 id="SQL-VIEW（视图）"><a href="#SQL-VIEW（视图）" class="headerlink" title="SQL VIEW（视图）"></a>SQL VIEW（视图）</h2><h3 id="什么是视图？"><a href="#什么是视图？" class="headerlink" title="什么是视图？"></a>什么是视图？</h3><p>在 SQL 中，视图是基于 SQL 语句的结果集的可视化的表。<br>视图包含行和列，就像一个真实的表。视图中的字段就是来自一个或多个数据库中的真实的表中的字段。我们可以向视图添加 SQL 函数、WHERE 以及 JOIN 语句，我们也可以提交数据，就像这些来自于某个单一的表。</p>
<p><strong>视图是一个虚拟的表，是一个表中的数据经过某种筛选后的显示方式，视图由一个预定义的查询select语句组成。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE VIEW view_name AS</span><br><span class="line">SELECT column_name(s)</span><br><span class="line">FROM table_name</span><br><span class="line">WHERE condition</span><br></pre></td></tr></table></figure>
<h2 id="SQL-数据类型"><a href="#SQL-数据类型" class="headerlink" title="SQL 数据类型"></a>SQL 数据类型</h2><p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1rvrak3rj20if0dadh7.jpg" alt=""><br><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1fy1rw7vu54j20ih0l5di7.jpg" alt=""></p>
<h1 id="复杂查询"><a href="#复杂查询" class="headerlink" title="复杂查询"></a>复杂查询</h1><h2 id="一条SQL语句分时间段查询"><a href="#一条SQL语句分时间段查询" class="headerlink" title="一条SQL语句分时间段查询"></a>一条SQL语句分时间段查询</h2><p>使用 case when then 用法</p>
<p>//例子<br>字段分别是ID，NUM1,NUM2, TIME1，TIME2, MONEY.<br>想要按照15分钟为间隔来统计ID的数量。效果如同下面的sql语句。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT  </span><br><span class="line">  sum(CASE when TIME1 &gt;= &apos;2014-02-27 8:00:00&apos; and TIME1 &lt; &apos;2014-02-27 8:15:00&apos; then 1 else 0 end)   AS &apos;1&apos;,  </span><br><span class="line">  sum(CASE when TIME1 &gt;= &apos;2014-02-27 8:15:00&apos; AND TIME1 &lt; &apos;2014-02-27 8:30:00&apos; then 1 else 0 end)   AS &apos;2&apos;,  </span><br><span class="line">  sum(CASE when TIME1 &gt;= &apos;2014-02-27 8:30:00&apos; AND TIME1 &lt; &apos;2014-02-27 8:45:00&apos; then 1 else 0 end)   AS &apos;3&apos;,  </span><br><span class="line">  sum(CASE when TIME1 &gt;= &apos;2014-02-27 8:45:00&apos; AND TIME1 &lt; &apos;2014-02-27 9:00:00&apos; then 1 else 0 end)   AS &apos;4&apos;,  </span><br><span class="line">  sum(CASE when TIME1 &gt;= &apos;2014-02-27 9:00:00&apos; and TIME1 &lt; &apos;2014-02-27 9:15:00&apos; then 1 else 0 end)   AS &apos;5&apos;  </span><br><span class="line">from dealdata;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://ww1.sinaimg.cn/large/bfd348c6gy1g0uqqpd352j20g502o3yd.jpg" alt=""></p>
<p><strong><a href="https://segmentfault.com/q/1010000009539927" target="_blank" rel="noopener">文章来源地址</a></strong></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/02/16/AOP/" rel="next" title="AOP">
                <i class="fa fa-chevron-left"></i> AOP
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/bz.gif"
                alt="Caiiiiii" />
            
              <p class="site-author-name" itemprop="name">Caiiiiii</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Caiiiiii" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:995017591@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/cai-yuan-qin/activities" target="_blank" title="知乎">
                      
                        <i class="fa fa-fw fa-globe"></i>知乎</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://steamcommunity.com/id/995017591" target="_blank" title="Steam">
                      
                        <i class="fa fa-fw fa-globe"></i>Steam</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL语句"><span class="nav-number">1.</span> <span class="nav-text">SQL语句</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-SELECT-语句"><span class="nav-number">1.1.</span> <span class="nav-text">SQL SELECT 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-SELECT-DISTINCT-语句"><span class="nav-number">1.2.</span> <span class="nav-text">SQL SELECT DISTINCT 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WHERE-语句"><span class="nav-number">1.3.</span> <span class="nav-text">WHERE 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-AND-amp-OR-语句"><span class="nav-number">1.4.</span> <span class="nav-text">SQL AND &amp; OR 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-ORDER-BY-语句"><span class="nav-number">1.5.</span> <span class="nav-text">SQL ORDER BY 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-INSERT-INTO-语句"><span class="nav-number">1.6.</span> <span class="nav-text">SQL INSERT INTO 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-UPDATE-语句"><span class="nav-number">1.7.</span> <span class="nav-text">SQL UPDATE 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-DELETE-语句"><span class="nav-number">1.8.</span> <span class="nav-text">SQL DELETE 语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#删除所有行"><span class="nav-number">1.8.1.</span> <span class="nav-text">删除所有行</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL-TOP-字句"><span class="nav-number">2.</span> <span class="nav-text">SQL TOP 字句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MySQL-语法"><span class="nav-number">2.0.1.</span> <span class="nav-text">MySQL 语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Oracle-语法"><span class="nav-number">2.0.2.</span> <span class="nav-text">Oracle 语法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-LIKE-操作符（模糊搜索）"><span class="nav-number">2.1.</span> <span class="nav-text">SQL LIKE 操作符（模糊搜索）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#例子"><span class="nav-number">2.1.1.</span> <span class="nav-text">例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-通配符"><span class="nav-number">2.2.</span> <span class="nav-text">SQL 通配符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#例子-1"><span class="nav-number">2.2.1.</span> <span class="nav-text">例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-IN-操作符"><span class="nav-number">2.3.</span> <span class="nav-text">SQL IN 操作符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BETWEEN-操作符"><span class="nav-number">2.4.</span> <span class="nav-text">BETWEEN 操作符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-Alias（别名）"><span class="nav-number">2.5.</span> <span class="nav-text">SQL Alias（别名）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-JOIN"><span class="nav-number">2.6.</span> <span class="nav-text">SQL JOIN</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#数据库左连接、右连接、内连接、全连接"><span class="nav-number">2.6.1.</span> <span class="nav-text">数据库左连接、右连接、内连接、全连接</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-UNION-和-UNION-ALL-操作符（少用）"><span class="nav-number">2.7.</span> <span class="nav-text">SQL UNION 和 UNION ALL 操作符（少用）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SELECT-INTO-语句"><span class="nav-number">2.8.</span> <span class="nav-text">SELECT INTO 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CREATE-DATABASE-语句"><span class="nav-number">2.9.</span> <span class="nav-text">CREATE DATABASE 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CREATE-TABLE-语句"><span class="nav-number">2.10.</span> <span class="nav-text">CREATE TABLE 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-约束"><span class="nav-number">2.11.</span> <span class="nav-text">SQL 约束</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-NOT-NULL-约束"><span class="nav-number">2.11.1.</span> <span class="nav-text">SQL NOT NULL 约束</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-UNIQUE-约束-字段值不能重复"><span class="nav-number">2.11.2.</span> <span class="nav-text">SQL UNIQUE 约束(字段值不能重复)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-PRIMARY-KEY-约束-主键"><span class="nav-number">2.11.3.</span> <span class="nav-text">SQL PRIMARY KEY 约束(主键)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-FOREIGN-KEY-约束-外键"><span class="nav-number">2.11.4.</span> <span class="nav-text">SQL FOREIGN KEY 约束(外键)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-CHECK-约束"><span class="nav-number">2.11.5.</span> <span class="nav-text">SQL CHECK 约束</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-DEFAULT-约束"><span class="nav-number">2.11.6.</span> <span class="nav-text">SQL DEFAULT 约束</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-CREATE-INDEX-语句"><span class="nav-number">2.12.</span> <span class="nav-text">SQL CREATE INDEX 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-撤销索引、表以及数据库"><span class="nav-number">2.13.</span> <span class="nav-text">SQL 撤销索引、表以及数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-DROP-INDEX-语句"><span class="nav-number">2.13.1.</span> <span class="nav-text">SQL DROP INDEX 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-DROP-TABLE-语句"><span class="nav-number">2.13.2.</span> <span class="nav-text">SQL DROP TABLE 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-DROP-DATABASE-语句"><span class="nav-number">2.13.3.</span> <span class="nav-text">SQL DROP DATABASE 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL-TRUNCATE-TABLE-语句"><span class="nav-number">2.13.4.</span> <span class="nav-text">SQL TRUNCATE TABLE 语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-ALTER-TABLE-语句"><span class="nav-number">2.14.</span> <span class="nav-text">SQL ALTER TABLE 语句</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-AUTO-INCREMENT-字段"><span class="nav-number">2.15.</span> <span class="nav-text">SQL AUTO INCREMENT 字段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-VIEW（视图）"><span class="nav-number">2.16.</span> <span class="nav-text">SQL VIEW（视图）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#什么是视图？"><span class="nav-number">2.16.1.</span> <span class="nav-text">什么是视图？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-数据类型"><span class="nav-number">2.17.</span> <span class="nav-text">SQL 数据类型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#复杂查询"><span class="nav-number">3.</span> <span class="nav-text">复杂查询</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一条SQL语句分时间段查询"><span class="nav-number">3.1.</span> <span class="nav-text">一条SQL语句分时间段查询</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Caiiiiii</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/10/18/SQL%E8%AF%AD%E5%8F%A5/" data-id="ck1vr1mpe000u2othg8yk1ye1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/10/18/test-my-site/">test_my_site</a>
          </li>
        
          <li>
            <a href="/2019/10/18/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2019/10/18/JQUERY%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/">JQUERY的基本使用方法</a>
          </li>
        
          <li>
            <a href="/2019/10/18/%E7%94%A8HEXO%E5%92%8CMARKDOWN%E6%A0%BC%E5%BC%8F%E4%B9%A6%E5%86%99%E5%8D%9A%E5%AE%A2/">用HEXO和MARKDOWN格式书写博客</a>
          </li>
        
          <li>
            <a href="/2019/10/18/Java%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/">Java常见面试题</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>